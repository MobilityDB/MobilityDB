SELECT text 'A' || ttext 'AA@2000-01-01';
              ?column?              
------------------------------------
 "AAA"@Sat Jan 01 00:00:00 2000 PST
(1 row)

SELECT text 'A' || ttext '{AA@2000-01-01, BB@2000-01-02, AA@2000-01-03}';
                                                   ?column?                                                   
--------------------------------------------------------------------------------------------------------------
 {"AAA"@Sat Jan 01 00:00:00 2000 PST, "ABB"@Sun Jan 02 00:00:00 2000 PST, "AAA"@Mon Jan 03 00:00:00 2000 PST}
(1 row)

SELECT text 'A' || ttext '[AA@2000-01-01, BB@2000-01-02, AA@2000-01-03]';
                                                   ?column?                                                   
--------------------------------------------------------------------------------------------------------------
 ["AAA"@Sat Jan 01 00:00:00 2000 PST, "ABB"@Sun Jan 02 00:00:00 2000 PST, "AAA"@Mon Jan 03 00:00:00 2000 PST]
(1 row)

SELECT text 'A' || ttext '{[AA@2000-01-01, BB@2000-01-02, AA@2000-01-03],[CC@2000-01-04, CC@2000-01-05]}';
                                                                                         ?column?                                                                                         
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 {["AAA"@Sat Jan 01 00:00:00 2000 PST, "ABB"@Sun Jan 02 00:00:00 2000 PST, "AAA"@Mon Jan 03 00:00:00 2000 PST], ["ACC"@Tue Jan 04 00:00:00 2000 PST, "ACC"@Wed Jan 05 00:00:00 2000 PST]}
(1 row)

SELECT ttext 'AA@2000-01-01' || text 'A';
              ?column?              
------------------------------------
 "AAA"@Sat Jan 01 00:00:00 2000 PST
(1 row)

SELECT ttext '{AA@2000-01-01, BB@2000-01-02, AA@2000-01-03}' || text 'A';
                                                   ?column?                                                   
--------------------------------------------------------------------------------------------------------------
 {"AAA"@Sat Jan 01 00:00:00 2000 PST, "BBA"@Sun Jan 02 00:00:00 2000 PST, "AAA"@Mon Jan 03 00:00:00 2000 PST}
(1 row)

SELECT ttext '[AA@2000-01-01, BB@2000-01-02, AA@2000-01-03]' || text 'A';
                                                   ?column?                                                   
--------------------------------------------------------------------------------------------------------------
 ["AAA"@Sat Jan 01 00:00:00 2000 PST, "BBA"@Sun Jan 02 00:00:00 2000 PST, "AAA"@Mon Jan 03 00:00:00 2000 PST]
(1 row)

SELECT ttext '{[AA@2000-01-01, BB@2000-01-02, AA@2000-01-03],[CC@2000-01-04, CC@2000-01-05]}' || text 'A';
                                                                                         ?column?                                                                                         
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 {["AAA"@Sat Jan 01 00:00:00 2000 PST, "BBA"@Sun Jan 02 00:00:00 2000 PST, "AAA"@Mon Jan 03 00:00:00 2000 PST], ["CCA"@Tue Jan 04 00:00:00 2000 PST, "CCA"@Wed Jan 05 00:00:00 2000 PST]}
(1 row)

SELECT ttext 'AA@2000-01-01' || ttext 'AA@2000-01-01';
              ?column?               
-------------------------------------
 "AAAA"@Sat Jan 01 00:00:00 2000 PST
(1 row)

SELECT ttext '{AA@2000-01-01, BB@2000-01-02, AA@2000-01-03}' || ttext 'AA@2000-01-01';
              ?column?               
-------------------------------------
 "AAAA"@Sat Jan 01 00:00:00 2000 PST
(1 row)

SELECT ttext '[AA@2000-01-01, BB@2000-01-02, AA@2000-01-03]' || ttext 'AA@2000-01-01';
              ?column?               
-------------------------------------
 "AAAA"@Sat Jan 01 00:00:00 2000 PST
(1 row)

SELECT ttext '{[AA@2000-01-01, BB@2000-01-02, AA@2000-01-03],[CC@2000-01-04, CC@2000-01-05]}' || ttext 'AA@2000-01-01';
              ?column?               
-------------------------------------
 "AAAA"@Sat Jan 01 00:00:00 2000 PST
(1 row)

SELECT ttext 'AA@2000-01-01' || ttext '{AA@2000-01-01, BB@2000-01-02, AA@2000-01-03}';
              ?column?               
-------------------------------------
 "AAAA"@Sat Jan 01 00:00:00 2000 PST
(1 row)

SELECT ttext '{AA@2000-01-01, BB@2000-01-02, AA@2000-01-03}' || ttext '{AA@2000-01-01, BB@2000-01-02, AA@2000-01-03}';
                                                    ?column?                                                     
-----------------------------------------------------------------------------------------------------------------
 {"AAAA"@Sat Jan 01 00:00:00 2000 PST, "BBBB"@Sun Jan 02 00:00:00 2000 PST, "AAAA"@Mon Jan 03 00:00:00 2000 PST}
(1 row)

SELECT ttext '[AA@2000-01-01, BB@2000-01-02, AA@2000-01-03]' || ttext '{AA@2000-01-01, BB@2000-01-02, AA@2000-01-03}';
                                                    ?column?                                                     
-----------------------------------------------------------------------------------------------------------------
 {"AAAA"@Sat Jan 01 00:00:00 2000 PST, "BBBB"@Sun Jan 02 00:00:00 2000 PST, "AAAA"@Mon Jan 03 00:00:00 2000 PST}
(1 row)

SELECT ttext '{[AA@2000-01-01, BB@2000-01-02, AA@2000-01-03],[CC@2000-01-04, CC@2000-01-05]}' || ttext '{AA@2000-01-01, BB@2000-01-02, AA@2000-01-03}';
                                                    ?column?                                                     
-----------------------------------------------------------------------------------------------------------------
 {"AAAA"@Sat Jan 01 00:00:00 2000 PST, "BBBB"@Sun Jan 02 00:00:00 2000 PST, "AAAA"@Mon Jan 03 00:00:00 2000 PST}
(1 row)

SELECT ttext 'AA@2000-01-01' || ttext '[AA@2000-01-01, BB@2000-01-02, AA@2000-01-03]';
              ?column?               
-------------------------------------
 "AAAA"@Sat Jan 01 00:00:00 2000 PST
(1 row)

SELECT ttext '{AA@2000-01-01, BB@2000-01-02, AA@2000-01-03}' || ttext '[AA@2000-01-01, BB@2000-01-02, AA@2000-01-03]';
                                                    ?column?                                                     
-----------------------------------------------------------------------------------------------------------------
 {"AAAA"@Sat Jan 01 00:00:00 2000 PST, "BBBB"@Sun Jan 02 00:00:00 2000 PST, "AAAA"@Mon Jan 03 00:00:00 2000 PST}
(1 row)

SELECT ttext '[AA@2000-01-01, BB@2000-01-02, AA@2000-01-03]' || ttext '[AA@2000-01-01, BB@2000-01-02, AA@2000-01-03]';
                                                    ?column?                                                     
-----------------------------------------------------------------------------------------------------------------
 ["AAAA"@Sat Jan 01 00:00:00 2000 PST, "BBBB"@Sun Jan 02 00:00:00 2000 PST, "AAAA"@Mon Jan 03 00:00:00 2000 PST]
(1 row)

SELECT ttext '{[AA@2000-01-01, BB@2000-01-02, AA@2000-01-03],[CC@2000-01-04, CC@2000-01-05]}' || ttext '[AA@2000-01-01, BB@2000-01-02, AA@2000-01-03]';
                                                     ?column?                                                      
-------------------------------------------------------------------------------------------------------------------
 {["AAAA"@Sat Jan 01 00:00:00 2000 PST, "BBBB"@Sun Jan 02 00:00:00 2000 PST, "AAAA"@Mon Jan 03 00:00:00 2000 PST]}
(1 row)

SELECT ttext 'AA@2000-01-01' || ttext '{[AA@2000-01-01, BB@2000-01-02, AA@2000-01-03],[CC@2000-01-04, CC@2000-01-05]}';
              ?column?               
-------------------------------------
 "AAAA"@Sat Jan 01 00:00:00 2000 PST
(1 row)

SELECT ttext '{AA@2000-01-01, BB@2000-01-02, AA@2000-01-03}' || ttext '{[AA@2000-01-01, BB@2000-01-02, AA@2000-01-03],[CC@2000-01-04, CC@2000-01-05]}';
                                                    ?column?                                                     
-----------------------------------------------------------------------------------------------------------------
 {"AAAA"@Sat Jan 01 00:00:00 2000 PST, "BBBB"@Sun Jan 02 00:00:00 2000 PST, "AAAA"@Mon Jan 03 00:00:00 2000 PST}
(1 row)

SELECT ttext '[AA@2000-01-01, BB@2000-01-02, AA@2000-01-03]' || ttext '{[AA@2000-01-01, BB@2000-01-02, AA@2000-01-03],[CC@2000-01-04, CC@2000-01-05]}';
                                                     ?column?                                                      
-------------------------------------------------------------------------------------------------------------------
 {["AAAA"@Sat Jan 01 00:00:00 2000 PST, "BBBB"@Sun Jan 02 00:00:00 2000 PST, "AAAA"@Mon Jan 03 00:00:00 2000 PST]}
(1 row)

SELECT ttext '{[AA@2000-01-01, BB@2000-01-02, AA@2000-01-03],[CC@2000-01-04, CC@2000-01-05]}' || ttext '{[AA@2000-01-01, BB@2000-01-02, AA@2000-01-03],[CC@2000-01-04, CC@2000-01-05]}';
                                                                                           ?column?                                                                                            
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 {["AAAA"@Sat Jan 01 00:00:00 2000 PST, "BBBB"@Sun Jan 02 00:00:00 2000 PST, "AAAA"@Mon Jan 03 00:00:00 2000 PST], ["CCCC"@Tue Jan 04 00:00:00 2000 PST, "CCCC"@Wed Jan 05 00:00:00 2000 PST]}
(1 row)

SELECT upper(ttext 'AA@2000-01-01');
               upper               
-----------------------------------
 "AA"@Sat Jan 01 00:00:00 2000 PST
(1 row)

SELECT upper(ttext '{AA@2000-01-01, BB@2000-01-02, AA@2000-01-03}');
                                                   upper                                                   
-----------------------------------------------------------------------------------------------------------
 {"AA"@Sat Jan 01 00:00:00 2000 PST, "BB"@Sun Jan 02 00:00:00 2000 PST, "AA"@Mon Jan 03 00:00:00 2000 PST}
(1 row)

SELECT upper(ttext '[AA@2000-01-01, BB@2000-01-02, AA@2000-01-03]');
                                                   upper                                                   
-----------------------------------------------------------------------------------------------------------
 ["AA"@Sat Jan 01 00:00:00 2000 PST, "BB"@Sun Jan 02 00:00:00 2000 PST, "AA"@Mon Jan 03 00:00:00 2000 PST]
(1 row)

SELECT upper(ttext '{[AA@2000-01-01, BB@2000-01-02, AA@2000-01-03],[CC@2000-01-04, CC@2000-01-05]}');
                                                                                        upper                                                                                        
-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 {["AA"@Sat Jan 01 00:00:00 2000 PST, "BB"@Sun Jan 02 00:00:00 2000 PST, "AA"@Mon Jan 03 00:00:00 2000 PST], ["CC"@Tue Jan 04 00:00:00 2000 PST, "CC"@Wed Jan 05 00:00:00 2000 PST]}
(1 row)

SELECT lower(ttext 'AA@2000-01-01');
               lower               
-----------------------------------
 "aa"@Sat Jan 01 00:00:00 2000 PST
(1 row)

SELECT lower(ttext '{AA@2000-01-01, BB@2000-01-02, AA@2000-01-03}');
                                                   lower                                                   
-----------------------------------------------------------------------------------------------------------
 {"aa"@Sat Jan 01 00:00:00 2000 PST, "bb"@Sun Jan 02 00:00:00 2000 PST, "aa"@Mon Jan 03 00:00:00 2000 PST}
(1 row)

SELECT lower(ttext '[AA@2000-01-01, BB@2000-01-02, AA@2000-01-03]');
                                                   lower                                                   
-----------------------------------------------------------------------------------------------------------
 ["aa"@Sat Jan 01 00:00:00 2000 PST, "bb"@Sun Jan 02 00:00:00 2000 PST, "aa"@Mon Jan 03 00:00:00 2000 PST]
(1 row)

SELECT lower(ttext '{[AA@2000-01-01, BB@2000-01-02, AA@2000-01-03],[CC@2000-01-04, CC@2000-01-05]}');
                                                                                        lower                                                                                        
-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 {["aa"@Sat Jan 01 00:00:00 2000 PST, "bb"@Sun Jan 02 00:00:00 2000 PST, "aa"@Mon Jan 03 00:00:00 2000 PST], ["cc"@Tue Jan 04 00:00:00 2000 PST, "cc"@Wed Jan 05 00:00:00 2000 PST]}
(1 row)

