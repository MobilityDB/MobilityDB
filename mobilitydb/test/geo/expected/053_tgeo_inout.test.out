SELECT asText(tgeometry 'Point(1.123456789 1.123456789 1.123456789)@2000-01-01', 6);
                              astext                               
-------------------------------------------------------------------
 POINT Z (1.123457 1.123457 1.123457)@Sat Jan 01 00:00:00 2000 PST
(1 row)

SELECT asText(tgeometry '{Point(1.123456789 1.123456789 1.123456789)@2000-01-01, Point(2.123456789 2.123456789 2.123456789)@2000-01-02, Point(1.123456789 1.123456789 1.123456789)@2000-01-03}', 6);
                                                                                                  astext                                                                                                   
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 {POINT Z (1.123457 1.123457 1.123457)@Sat Jan 01 00:00:00 2000 PST, POINT Z (2.123457 2.123457 2.123457)@Sun Jan 02 00:00:00 2000 PST, POINT Z (1.123457 1.123457 1.123457)@Mon Jan 03 00:00:00 2000 PST}
(1 row)

SELECT asText(tgeometry '[Point(1.123456789 1.123456789 1.123456789)@2000-01-01, Point(2.123456789 2.123456789 2.123456789)@2000-01-02, Point(1.123456789 1.123456789 1.123456789)@2000-01-03]', 6);
                                                                                                  astext                                                                                                   
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 [POINT Z (1.123457 1.123457 1.123457)@Sat Jan 01 00:00:00 2000 PST, POINT Z (2.123457 2.123457 2.123457)@Sun Jan 02 00:00:00 2000 PST, POINT Z (1.123457 1.123457 1.123457)@Mon Jan 03 00:00:00 2000 PST]
(1 row)

SELECT asText(tgeometry '{[Point(1.123456789 1.123456789 1.123456789)@2000-01-01, Point(2.123456789 2.123456789 2.123456789)@2000-01-02, Point(1.123456789 1.123456789 1.123456789)@2000-01-03],[Point(3.123456789 3.123456789 3.123456789)@2000-01-04, Point(3.123456789 3.123456789 3.123456789)@2000-01-05]}', 6);
                                                                                                                                                                       astext                                                                                                                                                                        
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 {[POINT Z (1.123457 1.123457 1.123457)@Sat Jan 01 00:00:00 2000 PST, POINT Z (2.123457 2.123457 2.123457)@Sun Jan 02 00:00:00 2000 PST, POINT Z (1.123457 1.123457 1.123457)@Mon Jan 03 00:00:00 2000 PST], [POINT Z (3.123457 3.123457 3.123457)@Tue Jan 04 00:00:00 2000 PST, POINT Z (3.123457 3.123457 3.123457)@Wed Jan 05 00:00:00 2000 PST]}
(1 row)

SELECT asText(tgeometry 'Interp=Step;[Point(1.123456789 1.123456789 1.123456789)@2000-01-01, Point(2.123456789 2.123456789 2.123456789)@2000-01-02, Point(1.123456789 1.123456789 1.123456789)@2000-01-03]', 6);
                                                                                                  astext                                                                                                   
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 [POINT Z (1.123457 1.123457 1.123457)@Sat Jan 01 00:00:00 2000 PST, POINT Z (2.123457 2.123457 2.123457)@Sun Jan 02 00:00:00 2000 PST, POINT Z (1.123457 1.123457 1.123457)@Mon Jan 03 00:00:00 2000 PST]
(1 row)

SELECT asText(tgeometry 'Interp=Step;{[Point(1.123456789 1.123456789 1.123456789)@2000-01-01, Point(2.123456789 2.123456789 2.123456789)@2000-01-02, Point(1.123456789 1.123456789 1.123456789)@2000-01-03],[Point(3.123456789 3.123456789 3.123456789)@2000-01-04, Point(3.123456789 3.123456789 3.123456789)@2000-01-05]}', 6);
                                                                                                                                                                       astext                                                                                                                                                                        
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 {[POINT Z (1.123457 1.123457 1.123457)@Sat Jan 01 00:00:00 2000 PST, POINT Z (2.123457 2.123457 2.123457)@Sun Jan 02 00:00:00 2000 PST, POINT Z (1.123457 1.123457 1.123457)@Mon Jan 03 00:00:00 2000 PST], [POINT Z (3.123457 3.123457 3.123457)@Tue Jan 04 00:00:00 2000 PST, POINT Z (3.123457 3.123457 3.123457)@Wed Jan 05 00:00:00 2000 PST]}
(1 row)

SELECT asEWKT(tgeography 'Point(1.123456789 1.123456789 1.123456789)@2000-01-01', 6);
                                   asewkt                                    
-----------------------------------------------------------------------------
 SRID=4326;POINT Z (1.123457 1.123457 1.123457)@Sat Jan 01 00:00:00 2000 PST
(1 row)

SELECT asEWKT(tgeography '{Point(1.123456789 1.123456789 1.123456789)@2000-01-01, Point(2.123456789 2.123456789 2.123456789)@2000-01-02, Point(1.123456789 1.123456789 1.123456789)@2000-01-03}', 6);
                                                                                                       asewkt                                                                                                        
---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 SRID=4326;{POINT Z (1.123457 1.123457 1.123457)@Sat Jan 01 00:00:00 2000 PST, POINT Z (2.123457 2.123457 2.123457)@Sun Jan 02 00:00:00 2000 PST, POINT Z (1.123457 1.123457 1.123457)@Mon Jan 03 00:00:00 2000 PST}
(1 row)

SELECT asEWKT(tgeography '[Point(1.123456789 1.123456789 1.123456789)@2000-01-01, Point(2.123456789 2.123456789 2.123456789)@2000-01-02, Point(1.123456789 1.123456789 1.123456789)@2000-01-03]', 6);
                                                                                                       asewkt                                                                                                        
---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 SRID=4326;[POINT Z (1.123457 1.123457 1.123457)@Sat Jan 01 00:00:00 2000 PST, POINT Z (2.123457 2.123457 2.123457)@Sun Jan 02 00:00:00 2000 PST, POINT Z (1.123457 1.123457 1.123457)@Mon Jan 03 00:00:00 2000 PST]
(1 row)

SELECT asEWKT(tgeography '{[Point(1.123456789 1.123456789 1.123456789)@2000-01-01, Point(2.123456789 2.123456789 2.123456789)@2000-01-02, Point(1.123456789 1.123456789 1.123456789)@2000-01-03],[Point(3.123456789 3.123456789 3.123456789)@2000-01-04, Point(3.123456789 3.123456789 3.123456789)@2000-01-05]}', 6);
                                                                                                                                                                            asewkt                                                                                                                                                                             
---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 SRID=4326;{[POINT Z (1.123457 1.123457 1.123457)@Sat Jan 01 00:00:00 2000 PST, POINT Z (2.123457 2.123457 2.123457)@Sun Jan 02 00:00:00 2000 PST, POINT Z (1.123457 1.123457 1.123457)@Mon Jan 03 00:00:00 2000 PST], [POINT Z (3.123457 3.123457 3.123457)@Tue Jan 04 00:00:00 2000 PST, POINT Z (3.123457 3.123457 3.123457)@Wed Jan 05 00:00:00 2000 PST]}
(1 row)

SELECT asEWKT(tgeography 'Interp=Step;[Point(1.123456789 1.123456789 1.123456789)@2000-01-01, Point(2.123456789 2.123456789 2.123456789)@2000-01-02, Point(1.123456789 1.123456789 1.123456789)@2000-01-03]', 6);
                                                                                                       asewkt                                                                                                        
---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 SRID=4326;[POINT Z (1.123457 1.123457 1.123457)@Sat Jan 01 00:00:00 2000 PST, POINT Z (2.123457 2.123457 2.123457)@Sun Jan 02 00:00:00 2000 PST, POINT Z (1.123457 1.123457 1.123457)@Mon Jan 03 00:00:00 2000 PST]
(1 row)

SELECT asEWKT(tgeography 'Interp=Step;{[Point(1.123456789 1.123456789 1.123456789)@2000-01-01, Point(2.123456789 2.123456789 2.123456789)@2000-01-02, Point(1.123456789 1.123456789 1.123456789)@2000-01-03],[Point(3.123456789 3.123456789 3.123456789)@2000-01-04, Point(3.123456789 3.123456789 3.123456789)@2000-01-05]}', 6);
                                                                                                                                                                            asewkt                                                                                                                                                                             
---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 SRID=4326;{[POINT Z (1.123457 1.123457 1.123457)@Sat Jan 01 00:00:00 2000 PST, POINT Z (2.123457 2.123457 2.123457)@Sun Jan 02 00:00:00 2000 PST, POINT Z (1.123457 1.123457 1.123457)@Mon Jan 03 00:00:00 2000 PST], [POINT Z (3.123457 3.123457 3.123457)@Tue Jan 04 00:00:00 2000 PST, POINT Z (3.123457 3.123457 3.123457)@Wed Jan 05 00:00:00 2000 PST]}
(1 row)

SELECT asEWKT(tgeometryFromMFJSON(asMFJSON(tgeometry 'Point(1 2)@2000-01-01')));
                 asewkt                  
-----------------------------------------
 POINT(1 2)@Sat Jan 01 00:00:00 2000 PST
(1 row)

SELECT asEWKT(tgeometryFromMFJSON(asMFJSON(tgeometry '{Point(1 2)@2000-01-01, Point(3 4)@2000-01-02}')));
                                       asewkt                                       
------------------------------------------------------------------------------------
 {POINT(1 2)@Sat Jan 01 00:00:00 2000 PST, POINT(3 4)@Sun Jan 02 00:00:00 2000 PST}
(1 row)

SELECT asEWKT(tgeometryFromMFJSON(asMFJSON(tgeometry '[Point(1 2)@2000-01-01, Point(3 4)@2000-01-02]')));
                                       asewkt                                       
------------------------------------------------------------------------------------
 [POINT(1 2)@Sat Jan 01 00:00:00 2000 PST, POINT(3 4)@Sun Jan 02 00:00:00 2000 PST]
(1 row)

SELECT asEWKT(tgeometryFromMFJSON(asMFJSON(tgeometry '[Point(1 2)@2000-01-01, Point(1 2)@2000-01-02)')));
                                       asewkt                                       
------------------------------------------------------------------------------------
 [POINT(1 2)@Sat Jan 01 00:00:00 2000 PST, POINT(1 2)@Sun Jan 02 00:00:00 2000 PST)
(1 row)

SELECT asEWKT(tgeometryFromMFJSON(asMFJSON(tgeometry '(Point(1 2)@2000-01-01, Point(3 4)@2000-01-02]')));
                                       asewkt                                       
------------------------------------------------------------------------------------
 (POINT(1 2)@Sat Jan 01 00:00:00 2000 PST, POINT(3 4)@Sun Jan 02 00:00:00 2000 PST]
(1 row)

SELECT asEWKT(tgeometryFromMFJSON(asMFJSON(tgeometry '(Point(1 2)@2000-01-01, Point(1 2)@2000-01-02)')));
                                       asewkt                                       
------------------------------------------------------------------------------------
 (POINT(1 2)@Sat Jan 01 00:00:00 2000 PST, POINT(1 2)@Sun Jan 02 00:00:00 2000 PST)
(1 row)

SELECT asEWKT(tgeometryFromMFJSON(asMFJSON(tgeometry '{[Point(1 2)@2000-01-01, Point(3 4)@2000-01-02],[Point(1 2)@2000-01-03, Point(3 4)@2000-01-04]}')));
                                                                                  asewkt                                                                                  
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 {[POINT(1 2)@Sat Jan 01 00:00:00 2000 PST, POINT(3 4)@Sun Jan 02 00:00:00 2000 PST], [POINT(1 2)@Mon Jan 03 00:00:00 2000 PST, POINT(3 4)@Tue Jan 04 00:00:00 2000 PST]}
(1 row)

SELECT asEWKT(tgeometryFromMFJSON(asMFJSON(tgeometry 'SRID=4326;Point(1 2 3)@2000-01-01',1,0,2)));
                         asewkt                         
--------------------------------------------------------
 SRID=4326;POINT Z (1 2 3)@Sat Jan 01 00:00:00 2000 PST
(1 row)

SELECT asEWKT(tgeometryFromMFJSON(asMFJSON(tgeometry 'SRID=4326;{Point(1 2 3)@2000-01-01, Point(4 5 6)@2000-01-02}',1,0,2)));
                                                 asewkt                                                 
--------------------------------------------------------------------------------------------------------
 SRID=4326;{POINT Z (1 2 3)@Sat Jan 01 00:00:00 2000 PST, POINT Z (4 5 6)@Sun Jan 02 00:00:00 2000 PST}
(1 row)

SELECT asEWKT(tgeometryFromMFJSON(asMFJSON(tgeometry 'SRID=4326;[Point(1 2 3)@2000-01-01, Point(4 5 6)@2000-01-02]',1,0,2)));
                                                 asewkt                                                 
--------------------------------------------------------------------------------------------------------
 SRID=4326;[POINT Z (1 2 3)@Sat Jan 01 00:00:00 2000 PST, POINT Z (4 5 6)@Sun Jan 02 00:00:00 2000 PST]
(1 row)

SELECT asEWKT(tgeometryFromMFJSON(asMFJSON(tgeometry 'SRID=4326;{[Point(1 2 3)@2000-01-01, Point(4 5 6)@2000-01-02],[Point(1 2 3)@2000-01-03, Point(4 5 6)@2000-01-04]}',1,0,2)));
                                                                                                 asewkt                                                                                                 
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 SRID=4326;{[POINT Z (1 2 3)@Sat Jan 01 00:00:00 2000 PST, POINT Z (4 5 6)@Sun Jan 02 00:00:00 2000 PST], [POINT Z (1 2 3)@Mon Jan 03 00:00:00 2000 PST, POINT Z (4 5 6)@Tue Jan 04 00:00:00 2000 PST]}
(1 row)

/* Errors */
SELECT tgeometryFromMFJSON('ABC');
ERROR:  Error while processing MFJSON string unexpected character (at offset 0)
SELECT tgeometryFromMFJSON('{"types":"MovingGeometry","coordinates":[1,1],"datetimes":"2000-01-01T00:00:00+01","interpolation":"Discrete"}');
ERROR:  Unable to find 'type' in MFJSON string
SELECT tgeometryFromMFJSON('{"type":"XXX","coordinates":[1],"datetimes":"2000-01-01T00:00:00+01","interpolation":"Discrete"}');
ERROR:  Invalid 'type' value in MFJSON string
SELECT tgeometryFromMFJSON('{"type":"MovingFloat","values":[1],"datetimes":["2000-01-01T00:00:00+01"],"interpolation":"None"}');
ERROR:  Invalid 'type' value in MFJSON string, expected: tgeometry, received: tfloat
SELECT tgeometryFromMFJSON('{"type":"MovingGeometry","coordinates":[1,1],"datetimes":"2000-01-01T00:00:00+01","interp":"Discrete"}');
ERROR:  Unable to find 'interpolation' in MFJSON string
SELECT tgeometryFromMFJSON('{"type":"MovingGeometry","coordinates":[1,1],"datetimes":"2000-01-01T00:00:00+01","interpolation":"XXX"}');
ERROR:  Invalid 'interpolation' value in MFJSON string
SELECT tgeometryFromMFJSON('{"type":"MovingGeometry","valuesxxx":[[1,1]],"datetimes":"2000-01-01T00:00:00+01","interpolation":"None"}');
ERROR:  Unable to find 'values' in MFJSON string
SELECT tgeometryFromMFJSON('{"type":"MovingGeometry","values":[[1,1]],"datetimess":"2000-01-01T00:00:00+01","interpolation":"None"}');
ERROR:  unknown GeoJSON type
SELECT tgeometryFromMFJSON('{"type":"MovingGeometry","values":[{"type":"XXX","coordinates":[1,1]}],"datetimes":"2000-01-01T00:00:00+01","interpolation":"None"}');
ERROR:  invalid GeoJson representation
SELECT tgeometryFromMFJSON('{"type":"MovingGeometry","values":[{"type":"Point","coordinates":[[1,1]]}],"datetimes":"2000-01-01T00:00:00+01","interpolation":"None"}');
ERROR:  Too few ordinates in GeoJSON
SELECT tgeometryFromMFJSON('{"type":"MovingGeometry","values":[{"type":"Point","coordinates":[1,1]}],"datetimes":"2000-01-01T00:00:00+01","interpolation":"None"}');
ERROR:  Invalid 'datetimes' array in MFJSON string
SELECT tgeometryFromMFJSON('{"type":"MovingGeometry","values":[{"type":"Point","coordinates":[1,1]}],"datetimes":["XXXX"],"interpolation":"None"}');
ERROR:  invalid input syntax for type timestamp with time zone: "XXXX"
SELECT tgeometryFromMFJSON('{"type":"MovingGeometry","values":[{"type":"Point","coordinates":[1,1]}],"datetimes":["2000-01-01T00:00:00+01"],"interpolation":"Linear"}');
ERROR:  The temporal type cannot have linear interpolation
SELECT tgeometryFromMFJSON(
'{"type":"MovingGeometry","sequences":[{"values":{"type":"Point","coordinates":[1,1]},"datetimes":["2000-01-01T00:00:00+01"],"lower_inc":true,"upper_inc":true}],"interpolation":"Step"}');
ERROR:  Invalid 'values' array in MFJSON string
SELECT tgeometryFromMFJSON('{"type":"MovingGeometry","sequences":[],"interpolation":"Step"}');
ERROR:  Invalid value of 'sequences' array in MFJSON string
SELECT tgeometryFromMFJSON('{"type":"MovingGeometry","sequences":[{"values":[{"type":"XXX","coordinates":[[1,1]]}],"datetimes":["2000-01-01T00:00:00+01"],"lower_inc":true,"upper_inc":true}],"interpolation":"Step"}');
ERROR:  invalid GeoJson representation
SELECT tgeometryFromMFJSON('{"type":"MovingGeometry","sequences":[{"values":[{"type":"Point","coordinates":[[1,1]]}],"datetimes":["2000-01-01T00:00:00+01"],"lower_inc":true,"upper_inc":true}],"interpolation":"Step"}');
ERROR:  Too few ordinates in GeoJSON
SELECT tgeometryFromMFJSON(
'{"type":"MovingGeometry","sequences":[{"values":[{"type":"Point","coordinates":[1,1]}],"datetimes":["2000-01-01T00:00:00+01"],"lower_inc":false,"upper_inc":true}],"interpolation":"Step"}');
ERROR:  Instant sequence must have inclusive bounds
SELECT tgeometryFromMFJSON(
'{"type":"MovingGeometry","sequences":[{"values":[{"type":"Point","coordinates":[1,1]},{"type":"Point","coordinates":[1,1]}],"datetimes":["2000-01-01T00:00:00+01"],"lower_inc":true,"upper_inc":true}],"interpolation":"Step"}');
ERROR:  Distinct number of elements in 'coordinates' and 'datetimes' arrays
SELECT asEWKT(tgeographyFromMFJSON(asMFJSON(tgeography 'Point(1 2)@2000-01-01')));
                      asewkt                       
---------------------------------------------------
 SRID=4326;POINT(1 2)@Sat Jan 01 00:00:00 2000 PST
(1 row)

SELECT asEWKT(tgeographyFromMFJSON(asMFJSON(tgeography '{Point(1 2)@2000-01-01, Point(3 4)@2000-01-02}')));
                                            asewkt                                            
----------------------------------------------------------------------------------------------
 SRID=4326;{POINT(1 2)@Sat Jan 01 00:00:00 2000 PST, POINT(3 4)@Sun Jan 02 00:00:00 2000 PST}
(1 row)

SELECT asEWKT(tgeographyFromMFJSON(asMFJSON(tgeography '[Point(1 2)@2000-01-01, Point(3 4)@2000-01-02]')));
                                            asewkt                                            
----------------------------------------------------------------------------------------------
 SRID=4326;[POINT(1 2)@Sat Jan 01 00:00:00 2000 PST, POINT(3 4)@Sun Jan 02 00:00:00 2000 PST]
(1 row)

SELECT asEWKT(tgeographyFromMFJSON(asMFJSON(tgeography '{[Point(1 2)@2000-01-01, Point(3 4)@2000-01-02],[Point(1 2)@2000-01-03, Point(3 4)@2000-01-04]}')));
                                                                                       asewkt                                                                                       
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 SRID=4326;{[POINT(1 2)@Sat Jan 01 00:00:00 2000 PST, POINT(3 4)@Sun Jan 02 00:00:00 2000 PST], [POINT(1 2)@Mon Jan 03 00:00:00 2000 PST, POINT(3 4)@Tue Jan 04 00:00:00 2000 PST]}
(1 row)

SELECT asEWKT(tgeometryFromEWKB(asEWKB(tgeometry 'Point(1 2)@2000-01-01')));
                 asewkt                  
-----------------------------------------
 POINT(1 2)@Sat Jan 01 00:00:00 2000 PST
(1 row)

SELECT asEWKT(tgeometryFromEWKB(asEWKB(tgeometry '{Point(1 2)@2000-01-01, Point(3 4)@2000-01-02}')));
                                       asewkt                                       
------------------------------------------------------------------------------------
 {POINT(1 2)@Sat Jan 01 00:00:00 2000 PST, POINT(3 4)@Sun Jan 02 00:00:00 2000 PST}
(1 row)

SELECT asEWKT(tgeometryFromEWKB(asEWKB(tgeometry '[Point(1 2)@2000-01-01, Point(3 4)@2000-01-02]')));
                                       asewkt                                       
------------------------------------------------------------------------------------
 [POINT(1 2)@Sat Jan 01 00:00:00 2000 PST, POINT(3 4)@Sun Jan 02 00:00:00 2000 PST]
(1 row)

SELECT asEWKT(tgeometryFromEWKB(asEWKB(tgeometry '[Point(1 2)@2000-01-01, Point(1 2)@2000-01-02)')));
                                       asewkt                                       
------------------------------------------------------------------------------------
 [POINT(1 2)@Sat Jan 01 00:00:00 2000 PST, POINT(1 2)@Sun Jan 02 00:00:00 2000 PST)
(1 row)

SELECT asEWKT(tgeometryFromEWKB(asEWKB(tgeometry '(Point(1 2)@2000-01-01, Point(3 4)@2000-01-02]')));
                                       asewkt                                       
------------------------------------------------------------------------------------
 (POINT(1 2)@Sat Jan 01 00:00:00 2000 PST, POINT(3 4)@Sun Jan 02 00:00:00 2000 PST]
(1 row)

SELECT asEWKT(tgeometryFromEWKB(asEWKB(tgeometry '(Point(1 2)@2000-01-01, Point(1 2)@2000-01-02)')));
                                       asewkt                                       
------------------------------------------------------------------------------------
 (POINT(1 2)@Sat Jan 01 00:00:00 2000 PST, POINT(1 2)@Sun Jan 02 00:00:00 2000 PST)
(1 row)

SELECT asEWKT(tgeometryFromEWKB(asEWKB(tgeometry '{[Point(1 2)@2000-01-01, Point(3 4)@2000-01-02],[Point(1 2)@2000-01-03, Point(3 4)@2000-01-04]}')));
                                                                                  asewkt                                                                                  
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 {[POINT(1 2)@Sat Jan 01 00:00:00 2000 PST, POINT(3 4)@Sun Jan 02 00:00:00 2000 PST], [POINT(1 2)@Mon Jan 03 00:00:00 2000 PST, POINT(3 4)@Tue Jan 04 00:00:00 2000 PST]}
(1 row)

SELECT asEWKT(tgeometryFromEWKB(asEWKB(tgeometry 'SRID=4326;Point(1 2 3)@2000-01-01')));
                         asewkt                         
--------------------------------------------------------
 SRID=4326;POINT Z (1 2 3)@Sat Jan 01 00:00:00 2000 PST
(1 row)

SELECT asEWKT(tgeometryFromEWKB(asEWKB(tgeometry 'SRID=4326;{Point(1 2 3)@2000-01-01, Point(4 5 6)@2000-01-02}')));
                                                 asewkt                                                 
--------------------------------------------------------------------------------------------------------
 SRID=4326;{POINT Z (1 2 3)@Sat Jan 01 00:00:00 2000 PST, POINT Z (4 5 6)@Sun Jan 02 00:00:00 2000 PST}
(1 row)

SELECT asEWKT(tgeometryFromEWKB(asEWKB(tgeometry 'SRID=4326;[Point(1 2 3)@2000-01-01, Point(4 5 6)@2000-01-02]')));
                                                 asewkt                                                 
--------------------------------------------------------------------------------------------------------
 SRID=4326;[POINT Z (1 2 3)@Sat Jan 01 00:00:00 2000 PST, POINT Z (4 5 6)@Sun Jan 02 00:00:00 2000 PST]
(1 row)

SELECT asEWKT(tgeometryFromEWKB(asEWKB(tgeometry 'SRID=4326;{[Point(1 2 3)@2000-01-01, Point(4 5 6)@2000-01-02],[Point(1 2 3)@2000-01-03, Point(4 5 6)@2000-01-04]}')));
                                                                                                 asewkt                                                                                                 
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 SRID=4326;{[POINT Z (1 2 3)@Sat Jan 01 00:00:00 2000 PST, POINT Z (4 5 6)@Sun Jan 02 00:00:00 2000 PST], [POINT Z (1 2 3)@Mon Jan 03 00:00:00 2000 PST, POINT Z (4 5 6)@Tue Jan 04 00:00:00 2000 PST]}
(1 row)

select asEWKT(tgeometryFromEWKB(asEWKB(tgeometry 'SRID=5676;Point(1 1)@2000-01-01', 'XDR')));
                      asewkt                       
---------------------------------------------------
 SRID=5676;POINT(1 1)@Sat Jan 01 00:00:00 2000 PST
(1 row)

select asEWKT(tgeometryFromEWKB(asEWKB(tgeometry 'SRID=5676;Point(1 1 1)@2000-01-01', 'XDR')));
                         asewkt                         
--------------------------------------------------------
 SRID=5676;POINT Z (1 1 1)@Sat Jan 01 00:00:00 2000 PST
(1 row)

/* Errors */
select asEWKT(tgeometryFromEWKB(asEWKB(tgeometry 'SRID=5676;Point(1 1)@2000-01-01', 'ABC')));
ERROR:  Invalid value for endian flag
SELECT asText(tgeometry 'Point(1 1)@2000-01-01');
                 astext                  
-----------------------------------------
 POINT(1 1)@Sat Jan 01 00:00:00 2000 PST
(1 row)

SELECT asText(tgeometry '{Point(1 1)@2000-01-01, Point(2 2)@2000-01-02, Point(1 1)@2000-01-03}');
                                                           astext                                                            
-----------------------------------------------------------------------------------------------------------------------------
 {POINT(1 1)@Sat Jan 01 00:00:00 2000 PST, POINT(2 2)@Sun Jan 02 00:00:00 2000 PST, POINT(1 1)@Mon Jan 03 00:00:00 2000 PST}
(1 row)

SELECT asText(tgeometry '[Point(1 1)@2000-01-01, Point(2 2)@2000-01-02, Point(1 1)@2000-01-03]');
                                                           astext                                                            
-----------------------------------------------------------------------------------------------------------------------------
 [POINT(1 1)@Sat Jan 01 00:00:00 2000 PST, POINT(2 2)@Sun Jan 02 00:00:00 2000 PST, POINT(1 1)@Mon Jan 03 00:00:00 2000 PST]
(1 row)

SELECT asText(tgeometry '{[Point(1 1)@2000-01-01, Point(2 2)@2000-01-02, Point(1 1)@2000-01-03],[Point(3 3)@2000-01-04, Point(3 3)@2000-01-05]}');
                                                                                                      astext                                                                                                       
-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 {[POINT(1 1)@Sat Jan 01 00:00:00 2000 PST, POINT(2 2)@Sun Jan 02 00:00:00 2000 PST, POINT(1 1)@Mon Jan 03 00:00:00 2000 PST], [POINT(3 3)@Tue Jan 04 00:00:00 2000 PST, POINT(3 3)@Wed Jan 05 00:00:00 2000 PST]}
(1 row)

SELECT asText(tgeography 'Point(1.5 1.5)@2000-01-01');
                   astext                    
---------------------------------------------
 POINT(1.5 1.5)@Sat Jan 01 00:00:00 2000 PST
(1 row)

SELECT asText(tgeography '{Point(1.5 1.5)@2000-01-01, Point(2.5 2.5)@2000-01-02, Point(1.5 1.5)@2000-01-03}');
                                                                 astext                                                                  
-----------------------------------------------------------------------------------------------------------------------------------------
 {POINT(1.5 1.5)@Sat Jan 01 00:00:00 2000 PST, POINT(2.5 2.5)@Sun Jan 02 00:00:00 2000 PST, POINT(1.5 1.5)@Mon Jan 03 00:00:00 2000 PST}
(1 row)

SELECT asText(tgeography '[Point(1.5 1.5)@2000-01-01, Point(2.5 2.5)@2000-01-02, Point(1.5 1.5)@2000-01-03]');
                                                                 astext                                                                  
-----------------------------------------------------------------------------------------------------------------------------------------
 [POINT(1.5 1.5)@Sat Jan 01 00:00:00 2000 PST, POINT(2.5 2.5)@Sun Jan 02 00:00:00 2000 PST, POINT(1.5 1.5)@Mon Jan 03 00:00:00 2000 PST]
(1 row)

SELECT asText(tgeography '{[Point(1.5 1.5)@2000-01-01, Point(2.5 2.5)@2000-01-02, Point(1.5 1.5)@2000-01-03],[Point(3.5 3.5)@2000-01-04, Point(3.5 3.5)@2000-01-05]}');
                                                                                                                astext                                                                                                                 
---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 {[POINT(1.5 1.5)@Sat Jan 01 00:00:00 2000 PST, POINT(2.5 2.5)@Sun Jan 02 00:00:00 2000 PST, POINT(1.5 1.5)@Mon Jan 03 00:00:00 2000 PST], [POINT(3.5 3.5)@Tue Jan 04 00:00:00 2000 PST, POINT(3.5 3.5)@Wed Jan 05 00:00:00 2000 PST]}
(1 row)

SELECT asText(tgeometry 'Point(1 1 1)@2000-01-01');
                    astext                    
----------------------------------------------
 POINT Z (1 1 1)@Sat Jan 01 00:00:00 2000 PST
(1 row)

SELECT asText(tgeometry '{Point(1 1 1)@2000-01-01, Point(2 2 2)@2000-01-02, Point(1 1 1)@2000-01-03}');
                                                                   astext                                                                   
--------------------------------------------------------------------------------------------------------------------------------------------
 {POINT Z (1 1 1)@Sat Jan 01 00:00:00 2000 PST, POINT Z (2 2 2)@Sun Jan 02 00:00:00 2000 PST, POINT Z (1 1 1)@Mon Jan 03 00:00:00 2000 PST}
(1 row)

SELECT asText(tgeometry '[Point(1 1 1)@2000-01-01, Point(2 2 2)@2000-01-02, Point(1 1 1)@2000-01-03]');
                                                                   astext                                                                   
--------------------------------------------------------------------------------------------------------------------------------------------
 [POINT Z (1 1 1)@Sat Jan 01 00:00:00 2000 PST, POINT Z (2 2 2)@Sun Jan 02 00:00:00 2000 PST, POINT Z (1 1 1)@Mon Jan 03 00:00:00 2000 PST]
(1 row)

SELECT asText(tgeometry '{[Point(1 1 1)@2000-01-01, Point(2 2 2)@2000-01-02, Point(1 1 1)@2000-01-03],[Point(3 3 3)@2000-01-04, Point(3 3 3)@2000-01-05]}');
                                                                                                                   astext                                                                                                                   
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 {[POINT Z (1 1 1)@Sat Jan 01 00:00:00 2000 PST, POINT Z (2 2 2)@Sun Jan 02 00:00:00 2000 PST, POINT Z (1 1 1)@Mon Jan 03 00:00:00 2000 PST], [POINT Z (3 3 3)@Tue Jan 04 00:00:00 2000 PST, POINT Z (3 3 3)@Wed Jan 05 00:00:00 2000 PST]}
(1 row)

SELECT asText(tgeography 'Point(1.5 1.5 1.5)@2000-01-01');
                       astext                       
----------------------------------------------------
 POINT Z (1.5 1.5 1.5)@Sat Jan 01 00:00:00 2000 PST
(1 row)

SELECT asText(tgeography '{Point(1.5 1.5 1.5)@2000-01-01, Point(2.5 2.5 2.5)@2000-01-02, Point(1.5 1.5 1.5)@2000-01-03}');
                                                                            astext                                                                            
--------------------------------------------------------------------------------------------------------------------------------------------------------------
 {POINT Z (1.5 1.5 1.5)@Sat Jan 01 00:00:00 2000 PST, POINT Z (2.5 2.5 2.5)@Sun Jan 02 00:00:00 2000 PST, POINT Z (1.5 1.5 1.5)@Mon Jan 03 00:00:00 2000 PST}
(1 row)

SELECT asText(tgeography '[Point(1.5 1.5 1.5)@2000-01-01, Point(2.5 2.5 2.5)@2000-01-02, Point(1.5 1.5 1.5)@2000-01-03]');
                                                                            astext                                                                            
--------------------------------------------------------------------------------------------------------------------------------------------------------------
 [POINT Z (1.5 1.5 1.5)@Sat Jan 01 00:00:00 2000 PST, POINT Z (2.5 2.5 2.5)@Sun Jan 02 00:00:00 2000 PST, POINT Z (1.5 1.5 1.5)@Mon Jan 03 00:00:00 2000 PST]
(1 row)

SELECT asText(tgeography '{[Point(1.5 1.5 1.5)@2000-01-01, Point(2.5 2.5 2.5)@2000-01-02, Point(1.5 1.5 1.5)@2000-01-03],[Point(3.5 3.5 3.5)@2000-01-04, Point(3.5 3.5 3.5)@2000-01-05]}');
                                                                                                                                  astext                                                                                                                                  
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 {[POINT Z (1.5 1.5 1.5)@Sat Jan 01 00:00:00 2000 PST, POINT Z (2.5 2.5 2.5)@Sun Jan 02 00:00:00 2000 PST, POINT Z (1.5 1.5 1.5)@Mon Jan 03 00:00:00 2000 PST], [POINT Z (3.5 3.5 3.5)@Tue Jan 04 00:00:00 2000 PST, POINT Z (3.5 3.5 3.5)@Wed Jan 05 00:00:00 2000 PST]}
(1 row)

SELECT asText('{}'::tgeometry[]);
 astext 
--------
 
(1 row)

SELECT asText(ARRAY[tgeometry 'Point(1 1)@2000-01-01']);
                   astext                    
---------------------------------------------
 {"POINT(1 1)@Sat Jan 01 00:00:00 2000 PST"}
(1 row)

SELECT asText(ARRAY[geometry 'Point(1 1)', 'Point(2 2)']);
           astext            
-----------------------------
 {"POINT(1 1)","POINT(2 2)"}
(1 row)

SELECT asEWKT(tgeometry 'Point(1 1)@2000-01-01');
                 asewkt                  
-----------------------------------------
 POINT(1 1)@Sat Jan 01 00:00:00 2000 PST
(1 row)

SELECT asEWKT(tgeometry '{Point(1 1)@2000-01-01, Point(2 2)@2000-01-02, Point(1 1)@2000-01-03}');
                                                           asewkt                                                            
-----------------------------------------------------------------------------------------------------------------------------
 {POINT(1 1)@Sat Jan 01 00:00:00 2000 PST, POINT(2 2)@Sun Jan 02 00:00:00 2000 PST, POINT(1 1)@Mon Jan 03 00:00:00 2000 PST}
(1 row)

SELECT asEWKT(tgeometry '[Point(1 1)@2000-01-01, Point(2 2)@2000-01-02, Point(1 1)@2000-01-03]');
                                                           asewkt                                                            
-----------------------------------------------------------------------------------------------------------------------------
 [POINT(1 1)@Sat Jan 01 00:00:00 2000 PST, POINT(2 2)@Sun Jan 02 00:00:00 2000 PST, POINT(1 1)@Mon Jan 03 00:00:00 2000 PST]
(1 row)

SELECT asEWKT(tgeometry '{[Point(1 1)@2000-01-01, Point(2 2)@2000-01-02, Point(1 1)@2000-01-03],[Point(3 3)@2000-01-04, Point(3 3)@2000-01-05]}');
                                                                                                      asewkt                                                                                                       
-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 {[POINT(1 1)@Sat Jan 01 00:00:00 2000 PST, POINT(2 2)@Sun Jan 02 00:00:00 2000 PST, POINT(1 1)@Mon Jan 03 00:00:00 2000 PST], [POINT(3 3)@Tue Jan 04 00:00:00 2000 PST, POINT(3 3)@Wed Jan 05 00:00:00 2000 PST]}
(1 row)

SELECT asEWKT(tgeography 'Point(1.5 1.5)@2000-01-01');
                        asewkt                         
-------------------------------------------------------
 SRID=4326;POINT(1.5 1.5)@Sat Jan 01 00:00:00 2000 PST
(1 row)

SELECT asEWKT(tgeography '{Point(1.5 1.5)@2000-01-01, Point(2.5 2.5)@2000-01-02, Point(1.5 1.5)@2000-01-03}');
                                                                      asewkt                                                                       
---------------------------------------------------------------------------------------------------------------------------------------------------
 SRID=4326;{POINT(1.5 1.5)@Sat Jan 01 00:00:00 2000 PST, POINT(2.5 2.5)@Sun Jan 02 00:00:00 2000 PST, POINT(1.5 1.5)@Mon Jan 03 00:00:00 2000 PST}
(1 row)

SELECT asEWKT(tgeography '[Point(1.5 1.5)@2000-01-01, Point(2.5 2.5)@2000-01-02, Point(1.5 1.5)@2000-01-03]');
                                                                      asewkt                                                                       
---------------------------------------------------------------------------------------------------------------------------------------------------
 SRID=4326;[POINT(1.5 1.5)@Sat Jan 01 00:00:00 2000 PST, POINT(2.5 2.5)@Sun Jan 02 00:00:00 2000 PST, POINT(1.5 1.5)@Mon Jan 03 00:00:00 2000 PST]
(1 row)

SELECT asEWKT(tgeography '{[Point(1.5 1.5)@2000-01-01, Point(2.5 2.5)@2000-01-02, Point(1.5 1.5)@2000-01-03],[Point(3.5 3.5)@2000-01-04, Point(3.5 3.5)@2000-01-05]}');
                                                                                                                     asewkt                                                                                                                      
-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 SRID=4326;{[POINT(1.5 1.5)@Sat Jan 01 00:00:00 2000 PST, POINT(2.5 2.5)@Sun Jan 02 00:00:00 2000 PST, POINT(1.5 1.5)@Mon Jan 03 00:00:00 2000 PST], [POINT(3.5 3.5)@Tue Jan 04 00:00:00 2000 PST, POINT(3.5 3.5)@Wed Jan 05 00:00:00 2000 PST]}
(1 row)

SELECT asEWKT(tgeometry 'Point(1 1 1)@2000-01-01');
                    asewkt                    
----------------------------------------------
 POINT Z (1 1 1)@Sat Jan 01 00:00:00 2000 PST
(1 row)

SELECT asEWKT(tgeometry '{Point(1 1 1)@2000-01-01, Point(2 2 2)@2000-01-02, Point(1 1 1)@2000-01-03}');
                                                                   asewkt                                                                   
--------------------------------------------------------------------------------------------------------------------------------------------
 {POINT Z (1 1 1)@Sat Jan 01 00:00:00 2000 PST, POINT Z (2 2 2)@Sun Jan 02 00:00:00 2000 PST, POINT Z (1 1 1)@Mon Jan 03 00:00:00 2000 PST}
(1 row)

SELECT asEWKT(tgeometry '[Point(1 1 1)@2000-01-01, Point(2 2 2)@2000-01-02, Point(1 1 1)@2000-01-03]');
                                                                   asewkt                                                                   
--------------------------------------------------------------------------------------------------------------------------------------------
 [POINT Z (1 1 1)@Sat Jan 01 00:00:00 2000 PST, POINT Z (2 2 2)@Sun Jan 02 00:00:00 2000 PST, POINT Z (1 1 1)@Mon Jan 03 00:00:00 2000 PST]
(1 row)

SELECT asEWKT(tgeometry '{[Point(1 1 1)@2000-01-01, Point(2 2 2)@2000-01-02, Point(1 1 1)@2000-01-03],[Point(3 3 3)@2000-01-04, Point(3 3 3)@2000-01-05]}');
                                                                                                                   asewkt                                                                                                                   
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 {[POINT Z (1 1 1)@Sat Jan 01 00:00:00 2000 PST, POINT Z (2 2 2)@Sun Jan 02 00:00:00 2000 PST, POINT Z (1 1 1)@Mon Jan 03 00:00:00 2000 PST], [POINT Z (3 3 3)@Tue Jan 04 00:00:00 2000 PST, POINT Z (3 3 3)@Wed Jan 05 00:00:00 2000 PST]}
(1 row)

SELECT asEWKT(tgeography 'Point(1.5 1.5 1.5)@2000-01-01');
                            asewkt                            
--------------------------------------------------------------
 SRID=4326;POINT Z (1.5 1.5 1.5)@Sat Jan 01 00:00:00 2000 PST
(1 row)

SELECT asEWKT(tgeography '{Point(1.5 1.5 1.5)@2000-01-01, Point(2.5 2.5 2.5)@2000-01-02, Point(1.5 1.5 1.5)@2000-01-03}');
                                                                                 asewkt                                                                                 
------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 SRID=4326;{POINT Z (1.5 1.5 1.5)@Sat Jan 01 00:00:00 2000 PST, POINT Z (2.5 2.5 2.5)@Sun Jan 02 00:00:00 2000 PST, POINT Z (1.5 1.5 1.5)@Mon Jan 03 00:00:00 2000 PST}
(1 row)

SELECT asEWKT(tgeography '[Point(1.5 1.5 1.5)@2000-01-01, Point(2.5 2.5 2.5)@2000-01-02, Point(1.5 1.5 1.5)@2000-01-03]');
                                                                                 asewkt                                                                                 
------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 SRID=4326;[POINT Z (1.5 1.5 1.5)@Sat Jan 01 00:00:00 2000 PST, POINT Z (2.5 2.5 2.5)@Sun Jan 02 00:00:00 2000 PST, POINT Z (1.5 1.5 1.5)@Mon Jan 03 00:00:00 2000 PST]
(1 row)

SELECT asEWKT(tgeography '{[Point(1.5 1.5 1.5)@2000-01-01, Point(2.5 2.5 2.5)@2000-01-02, Point(1.5 1.5 1.5)@2000-01-03],[Point(3.5 3.5 3.5)@2000-01-04, Point(3.5 3.5 3.5)@2000-01-05]}');
                                                                                                                                       asewkt                                                                                                                                       
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 SRID=4326;{[POINT Z (1.5 1.5 1.5)@Sat Jan 01 00:00:00 2000 PST, POINT Z (2.5 2.5 2.5)@Sun Jan 02 00:00:00 2000 PST, POINT Z (1.5 1.5 1.5)@Mon Jan 03 00:00:00 2000 PST], [POINT Z (3.5 3.5 3.5)@Tue Jan 04 00:00:00 2000 PST, POINT Z (3.5 3.5 3.5)@Wed Jan 05 00:00:00 2000 PST]}
(1 row)

SELECT asEWKT('{}'::tgeometry[]);
 asewkt 
--------
 
(1 row)

SELECT asEWKT(ARRAY[tgeometry 'Point(1 1)@2000-01-01']);
                   asewkt                    
---------------------------------------------
 {"POINT(1 1)@Sat Jan 01 00:00:00 2000 PST"}
(1 row)

SELECT asEWKT(ARRAY[geometry 'Point(1 1)', 'Point(2 2)']);
           asewkt            
-----------------------------
 {"POINT(1 1)","POINT(2 2)"}
(1 row)

SELECT asMFJSON(tgeometry 'Point(1 1)@2000-01-01');
                                                                   asmfjson                                                                    
-----------------------------------------------------------------------------------------------------------------------------------------------
 {"type":"MovingGeometry","values":[{"type":"Point","coordinates":[1,1]}],"datetimes":["Sat Jan 01T00:00:00 2000 PST"],"interpolation":"None"}
(1 row)

SELECT asMFJSON(tgeometry '{Point(1 1)@2000-01-01, Point(2 2)@2000-01-02, Point(1 1)@2000-01-03}');
                                                                                                                                                          asmfjson                                                                                                                                                           
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 {"type":"MovingGeometry","values":[{"type":"Point","coordinates":[1,1]},{"type":"Point","coordinates":[2,2]},{"type":"Point","coordinates":[1,1]}],"datetimes":["Sat Jan 01T00:00:00 2000 PST","Sun Jan 02T00:00:00 2000 PST","Mon Jan 03T00:00:00 2000 PST"],"lower_inc":true,"upper_inc":true,"interpolation":"Discrete"}
(1 row)

SELECT asMFJSON(tgeometry '[Point(1 1)@2000-01-01, Point(2 2)@2000-01-02, Point(1 1)@2000-01-03]');
                                                                                                                                                        asmfjson                                                                                                                                                         
-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 {"type":"MovingGeometry","values":[{"type":"Point","coordinates":[1,1]},{"type":"Point","coordinates":[2,2]},{"type":"Point","coordinates":[1,1]}],"datetimes":["Sat Jan 01T00:00:00 2000 PST","Sun Jan 02T00:00:00 2000 PST","Mon Jan 03T00:00:00 2000 PST"],"lower_inc":true,"upper_inc":true,"interpolation":"Step"}
(1 row)

SELECT asMFJSON(tgeometry '{[Point(1 1)@2000-01-01, Point(2 2)@2000-01-02, Point(1 1)@2000-01-03],[Point(3 3)@2000-01-04, Point(3 3)@2000-01-05]}');
                                                                                                                                                                                                                                                                   asmfjson                                                                                                                                                                                                                                                                   
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 {"type":"MovingGeometry","sequences":[{"values":[{"type":"Point","coordinates":[1,1]},{"type":"Point","coordinates":[2,2]},{"type":"Point","coordinates":[1,1]}],"datetimes":["Sat Jan 01T00:00:00 2000 PST","Sun Jan 02T00:00:00 2000 PST","Mon Jan 03T00:00:00 2000 PST"],"lower_inc":true,"upper_inc":true},{"values":[{"type":"Point","coordinates":[3,3]},{"type":"Point","coordinates":[3,3]}],"datetimes":["Tue Jan 04T00:00:00 2000 PST","Wed Jan 05T00:00:00 2000 PST"],"lower_inc":true,"upper_inc":true}],"interpolation":"Step"}
(1 row)

SELECT asMFJSON(tgeography 'Point(1.5 1.5)@2000-01-01');
                                                                                                 asmfjson                                                                                                  
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 {"type":"MovingGeometry","crs":{"type":"Name","properties":{"name":"EPSG:4326"}},"values":[{"type":"Point","coordinates":[1.5,1.5]}],"datetimes":["Sat Jan 01T00:00:00 2000 PST"],"interpolation":"None"}
(1 row)

SELECT asMFJSON(tgeography '{Point(1.5 1.5)@2000-01-01, Point(2.5 2.5)@2000-01-02, Point(1.5 1.5)@2000-01-03}');
                                                                                                                                                                                            asmfjson                                                                                                                                                                                             
-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 {"type":"MovingGeometry","crs":{"type":"Name","properties":{"name":"EPSG:4326"}},"values":[{"type":"Point","coordinates":[1.5,1.5]},{"type":"Point","coordinates":[2.5,2.5]},{"type":"Point","coordinates":[1.5,1.5]}],"datetimes":["Sat Jan 01T00:00:00 2000 PST","Sun Jan 02T00:00:00 2000 PST","Mon Jan 03T00:00:00 2000 PST"],"lower_inc":true,"upper_inc":true,"interpolation":"Discrete"}
(1 row)

SELECT asMFJSON(tgeography '[Point(1.5 1.5)@2000-01-01, Point(2.5 2.5)@2000-01-02, Point(1.5 1.5)@2000-01-03]');
                                                                                                                                                                                          asmfjson                                                                                                                                                                                           
---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 {"type":"MovingGeometry","crs":{"type":"Name","properties":{"name":"EPSG:4326"}},"values":[{"type":"Point","coordinates":[1.5,1.5]},{"type":"Point","coordinates":[2.5,2.5]},{"type":"Point","coordinates":[1.5,1.5]}],"datetimes":["Sat Jan 01T00:00:00 2000 PST","Sun Jan 02T00:00:00 2000 PST","Mon Jan 03T00:00:00 2000 PST"],"lower_inc":true,"upper_inc":true,"interpolation":"Step"}
(1 row)

SELECT asMFJSON(tgeography '{[Point(1.5 1.5)@2000-01-01, Point(2.5 2.5)@2000-01-02, Point(1.5 1.5)@2000-01-03],[Point(3.5 3.5)@2000-01-04, Point(3.5 3.5)@2000-01-05]}');
                                                                                                                                                                                                                                                                                                         asmfjson                                                                                                                                                                                                                                                                                                         
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 {"type":"MovingGeometry","crs":{"type":"Name","properties":{"name":"EPSG:4326"}},"sequences":[{"values":[{"type":"Point","coordinates":[1.5,1.5]},{"type":"Point","coordinates":[2.5,2.5]},{"type":"Point","coordinates":[1.5,1.5]}],"datetimes":["Sat Jan 01T00:00:00 2000 PST","Sun Jan 02T00:00:00 2000 PST","Mon Jan 03T00:00:00 2000 PST"],"lower_inc":true,"upper_inc":true},{"values":[{"type":"Point","coordinates":[3.5,3.5]},{"type":"Point","coordinates":[3.5,3.5]}],"datetimes":["Tue Jan 04T00:00:00 2000 PST","Wed Jan 05T00:00:00 2000 PST"],"lower_inc":true,"upper_inc":true}],"interpolation":"Step"}
(1 row)

SELECT asMFJSON(tgeometry 'Point(1 1 1)@2000-01-01');
                                                                    asmfjson                                                                     
-------------------------------------------------------------------------------------------------------------------------------------------------
 {"type":"MovingGeometry","values":[{"type":"Point","coordinates":[1,1,1]}],"datetimes":["Sat Jan 01T00:00:00 2000 PST"],"interpolation":"None"}
(1 row)

SELECT asMFJSON(tgeometry '{Point(1 1 1)@2000-01-01, Point(2 2 2)@2000-01-02, Point(1 1 1)@2000-01-03}');
                                                                                                                                                             asmfjson                                                                                                                                                              
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 {"type":"MovingGeometry","values":[{"type":"Point","coordinates":[1,1,1]},{"type":"Point","coordinates":[2,2,2]},{"type":"Point","coordinates":[1,1,1]}],"datetimes":["Sat Jan 01T00:00:00 2000 PST","Sun Jan 02T00:00:00 2000 PST","Mon Jan 03T00:00:00 2000 PST"],"lower_inc":true,"upper_inc":true,"interpolation":"Discrete"}
(1 row)

SELECT asMFJSON(tgeometry '[Point(1 1 1)@2000-01-01, Point(2 2 2)@2000-01-02, Point(1 1 1)@2000-01-03]');
                                                                                                                                                           asmfjson                                                                                                                                                            
-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 {"type":"MovingGeometry","values":[{"type":"Point","coordinates":[1,1,1]},{"type":"Point","coordinates":[2,2,2]},{"type":"Point","coordinates":[1,1,1]}],"datetimes":["Sat Jan 01T00:00:00 2000 PST","Sun Jan 02T00:00:00 2000 PST","Mon Jan 03T00:00:00 2000 PST"],"lower_inc":true,"upper_inc":true,"interpolation":"Step"}
(1 row)

SELECT asMFJSON(tgeometry '{[Point(1 1 1)@2000-01-01, Point(2 2 2)@2000-01-02, Point(1 1 1)@2000-01-03],[Point(3 3 3)@2000-01-04, Point(3 3 3)@2000-01-05]}');
                                                                                                                                                                                                                                                                        asmfjson                                                                                                                                                                                                                                                                        
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 {"type":"MovingGeometry","sequences":[{"values":[{"type":"Point","coordinates":[1,1,1]},{"type":"Point","coordinates":[2,2,2]},{"type":"Point","coordinates":[1,1,1]}],"datetimes":["Sat Jan 01T00:00:00 2000 PST","Sun Jan 02T00:00:00 2000 PST","Mon Jan 03T00:00:00 2000 PST"],"lower_inc":true,"upper_inc":true},{"values":[{"type":"Point","coordinates":[3,3,3]},{"type":"Point","coordinates":[3,3,3]}],"datetimes":["Tue Jan 04T00:00:00 2000 PST","Wed Jan 05T00:00:00 2000 PST"],"lower_inc":true,"upper_inc":true}],"interpolation":"Step"}
(1 row)

SELECT asMFJSON(tgeography 'Point(1.5 1.5 1.5)@2000-01-01');
                                                                                                   asmfjson                                                                                                    
---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 {"type":"MovingGeometry","crs":{"type":"Name","properties":{"name":"EPSG:4326"}},"values":[{"type":"Point","coordinates":[1.5,1.5,1.5]}],"datetimes":["Sat Jan 01T00:00:00 2000 PST"],"interpolation":"None"}
(1 row)

SELECT asMFJSON(tgeography '{Point(1.5 1.5 1.5)@2000-01-01, Point(2.5 2.5 2.5)@2000-01-02, Point(1.5 1.5 1.5)@2000-01-03}');
                                                                                                                                                                                                  asmfjson                                                                                                                                                                                                   
-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 {"type":"MovingGeometry","crs":{"type":"Name","properties":{"name":"EPSG:4326"}},"values":[{"type":"Point","coordinates":[1.5,1.5,1.5]},{"type":"Point","coordinates":[2.5,2.5,2.5]},{"type":"Point","coordinates":[1.5,1.5,1.5]}],"datetimes":["Sat Jan 01T00:00:00 2000 PST","Sun Jan 02T00:00:00 2000 PST","Mon Jan 03T00:00:00 2000 PST"],"lower_inc":true,"upper_inc":true,"interpolation":"Discrete"}
(1 row)

SELECT asMFJSON(tgeography '[Point(1.5 1.5 1.5)@2000-01-01, Point(2.5 2.5 2.5)@2000-01-02, Point(1.5 1.5 1.5)@2000-01-03]');
                                                                                                                                                                                                asmfjson                                                                                                                                                                                                 
---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 {"type":"MovingGeometry","crs":{"type":"Name","properties":{"name":"EPSG:4326"}},"values":[{"type":"Point","coordinates":[1.5,1.5,1.5]},{"type":"Point","coordinates":[2.5,2.5,2.5]},{"type":"Point","coordinates":[1.5,1.5,1.5]}],"datetimes":["Sat Jan 01T00:00:00 2000 PST","Sun Jan 02T00:00:00 2000 PST","Mon Jan 03T00:00:00 2000 PST"],"lower_inc":true,"upper_inc":true,"interpolation":"Step"}
(1 row)

SELECT asMFJSON(tgeography '{[Point(1.5 1.5 1.5)@2000-01-01, Point(2.5 2.5 2.5)@2000-01-02, Point(1.5 1.5 1.5)@2000-01-03],[Point(3.5 3.5 3.5)@2000-01-04, Point(3.5 3.5 3.5)@2000-01-05]}');
                                                                                                                                                                                                                                                                                                                   asmfjson                                                                                                                                                                                                                                                                                                                   
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 {"type":"MovingGeometry","crs":{"type":"Name","properties":{"name":"EPSG:4326"}},"sequences":[{"values":[{"type":"Point","coordinates":[1.5,1.5,1.5]},{"type":"Point","coordinates":[2.5,2.5,2.5]},{"type":"Point","coordinates":[1.5,1.5,1.5]}],"datetimes":["Sat Jan 01T00:00:00 2000 PST","Sun Jan 02T00:00:00 2000 PST","Mon Jan 03T00:00:00 2000 PST"],"lower_inc":true,"upper_inc":true},{"values":[{"type":"Point","coordinates":[3.5,3.5,3.5]},{"type":"Point","coordinates":[3.5,3.5,3.5]}],"datetimes":["Tue Jan 04T00:00:00 2000 PST","Wed Jan 05T00:00:00 2000 PST"],"lower_inc":true,"upper_inc":true}],"interpolation":"Step"}
(1 row)

SELECT asMFJSON(tgeometry 'Point(1 1)@2000-01-01', 0, 0, 20);
                                                                   asmfjson                                                                    
-----------------------------------------------------------------------------------------------------------------------------------------------
 {"type":"MovingGeometry","values":[{"type":"Point","coordinates":[1,1]}],"datetimes":["Sat Jan 01T00:00:00 2000 PST"],"interpolation":"None"}
(1 row)

SELECT asMFJSON(tgeometry 'Point(1 1)@2000-01-01', 0, 0, -1);
                                                                   asmfjson                                                                    
-----------------------------------------------------------------------------------------------------------------------------------------------
 {"type":"MovingGeometry","values":[{"type":"Point","coordinates":[1,1]}],"datetimes":["Sat Jan 01T00:00:00 2000 PST"],"interpolation":"None"}
(1 row)

SELECT asMFJSON(tgeometry 'SRID=4326;Point(50.813810 4.384260)@2019-01-01 18:00:00.15+02', 3, 0, 2);
                                                                                                                                                                                     asmfjson                                                                                                                                                                                      
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 {"type":"MovingGeometry","crs":{"type":"Name","properties":{"name":"EPSG:4326"}},"bbox":[[50.81,4.38],[50.81,4.38]],"period":{"begin":"Tue Jan 01T08:00:00.15 2019 PST","end":"Tue Jan 01T08:00:00.15 2019 PST","lower_inc":true,"upper_inc":true},"values":[{"type":"Point","coordinates":[50.81,4.38]}],"datetimes":["Tue Jan 01T08:00:00.15 2019 PST"],"interpolation":"None"}
(1 row)

SELECT asMFJSON(tgeometry 'SRID=4326;Point(50.813810 4.384260)@2019-01-01 18:00:00.15+02', 4, 0, 2);
                                                                                                             asmfjson                                                                                                             
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 {"type":"MovingGeometry","crs":{"type":"Name","properties":{"name":"urn:ogc:def:crs:EPSG::4326"}},"values":[{"type":"Point","coordinates":[50.81,4.38]}],"datetimes":["Tue Jan 01T08:00:00.15 2019 PST"],"interpolation":"None"}
(1 row)

SELECT asMFJSON(tgeometry '[Point(1 2 3)@2019-01-01, Point(4 5 6)@2019-01-02]', 1, 0, 2);
                                                                                                                                                                                                 asmfjson                                                                                                                                                                                                  
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 {"type":"MovingGeometry","bbox":[[1,2,3],[4,5,6]],"period":{"begin":"Tue Jan 01T00:00:00 2019 PST","end":"Wed Jan 02T00:00:00 2019 PST","lower_inc":true,"upper_inc":true},"values":[{"type":"Point","coordinates":[1,2,3]},{"type":"Point","coordinates":[4,5,6]}],"datetimes":["Tue Jan 01T00:00:00 2019 PST","Wed Jan 02T00:00:00 2019 PST"],"lower_inc":true,"upper_inc":true,"interpolation":"Step"}
(1 row)

SELECT asText(tgeometryFromMFJSON(asMFJSON(tgeometry 'POINT(1 1)@2000-01-01', 1, 3, 15)));
                 astext                  
-----------------------------------------
 POINT(1 1)@Sat Jan 01 00:00:00 2000 PST
(1 row)

SELECT asText(tgeometryFromMFJSON(asMFJSON(tgeometry '{POINT(1 1)@2000-01-01, POINT(2 2)@2000-01-02}', 1, 3, 15)));
                                       astext                                       
------------------------------------------------------------------------------------
 {POINT(1 1)@Sat Jan 01 00:00:00 2000 PST, POINT(2 2)@Sun Jan 02 00:00:00 2000 PST}
(1 row)

SELECT asText(tgeometryFromMFJSON(asMFJSON(tgeometry '[POINT(1 1)@2000-01-01, POINT(2 2)@2000-01-02]', 1, 3, 15)));
                                       astext                                       
------------------------------------------------------------------------------------
 [POINT(1 1)@Sat Jan 01 00:00:00 2000 PST, POINT(2 2)@Sun Jan 02 00:00:00 2000 PST]
(1 row)

SELECT asText(tgeometryFromMFJSON(asMFJSON(tgeometry '{[POINT(1 1)@2000-01-01, POINT(2 2)@2000-01-02], [POINT(3 3)@2000-01-03, POINT(3 3)@2000-01-04]}', 1, 3, 15)));
                                                                                  astext                                                                                  
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 {[POINT(1 1)@Sat Jan 01 00:00:00 2000 PST, POINT(2 2)@Sun Jan 02 00:00:00 2000 PST], [POINT(3 3)@Mon Jan 03 00:00:00 2000 PST, POINT(3 3)@Tue Jan 04 00:00:00 2000 PST]}
(1 row)

/* Errors */
SELECT asMFJSON(tgeometry 'SRID=123456;Point(50.813810 4.384260)@2019-01-01 18:00:00.15+02', 4, 2);
ERROR:  SRID 123456 unknown in spatial_ref_sys table
SELECT asBinary(tgeometry 'Point(1 1)@2000-01-01');
                               asbinary                               
----------------------------------------------------------------------
 \x013c00010101000000000000000000f03f000000000000f03f00209db406000000
(1 row)

SELECT asBinary(tgeometry 'Point(1 1)@2000-01-01', 'NDR');
                               asbinary                               
----------------------------------------------------------------------
 \x013c00010101000000000000000000f03f000000000000f03f00209db406000000
(1 row)

SELECT asBinary(tgeometry 'Point(1 1)@2000-01-01', 'XDR');
                               asbinary                               
----------------------------------------------------------------------
 \x00003c0100000000013ff00000000000003ff000000000000000000006b49d2000
(1 row)

SELECT asHexEWKB(tgeometry '[Point(1 1)@2000-01-01]');
                                  ashexewkb                                   
------------------------------------------------------------------------------
 013C000A01000000030101000000000000000000F03F000000000000F03F00209DB406000000
(1 row)

SELECT asHexEWKB(tgeometry '[Point(1 1)@2000-01-01]', 'NDR');
                                  ashexewkb                                   
------------------------------------------------------------------------------
 013C000A01000000030101000000000000000000F03F000000000000F03F00209DB406000000
(1 row)

SELECT asHexEWKB(tgeometry '[Point(1 1)@2000-01-01]', 'XDR');
                                  ashexewkb                                   
------------------------------------------------------------------------------
 00003C0A000000010300000000013FF00000000000003FF000000000000000000006B49D2000
(1 row)

SELECT asEWKT(tgeometryFromEWKB(asEWKB(tgeometry 'SRID=4326;Point(1 1)@2000-01-01')));
                      asewkt                       
---------------------------------------------------
 SRID=4326;POINT(1 1)@Sat Jan 01 00:00:00 2000 PST
(1 row)

SELECT asHexEWKB(tgeometry 'SRID=4326;Point(1 1)@2000-01-01');
                                     ashexewkb                                      
------------------------------------------------------------------------------------
 013C0041E61000000101000020E6100000000000000000F03F000000000000F03F00209DB406000000
(1 row)

select asHexEWKB(tgeometry 'SRID=5676;Point(1 1)@2000-01-01', 'NDR');
                                     ashexewkb                                      
------------------------------------------------------------------------------------
 013C00412C16000001010000202C160000000000000000F03F000000000000F03F00209DB406000000
(1 row)

select asHexEWKB(tgeometry 'SRID=5676;Point(1 1)@2000-01-01', 'XDR');
                                     ashexewkb                                      
------------------------------------------------------------------------------------
 00003C410000162C00200000010000162C3FF00000000000003FF000000000000000000006B49D2000
(1 row)

/* Errors */
select asEWKB(tgeometry 'SRID=5676;Point(1 1)@2000-01-01', 'ABCD');
ERROR:  Invalid value for endian flag
SELECT astext('{}'::geometry[]);
 astext 
--------
 
(1 row)

