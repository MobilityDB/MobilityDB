<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MobilityDB: trapezoid_make</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="mobilitydb-logo-icon.png"/></td>
  <td id="projectalign">
   <div id="projectname">MobilityDB<span id="projectnumber">&#160;1.3</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_0fff62ca9c7e6b49d869dbbeba2dc9ed.html">meos</a></li><li class="navelem"><a class="el" href="dir_0a74bb77045191a48e06cf40aa0b9f46.html">src</a></li><li class="navelem"><a class="el" href="dir_a4f0bc19230708d4fa12b03efb04a386.html">cbuffer</a></li><li class="navelem"><a class="el" href="tcbuffer__spatialfuncs_8c.html">tcbuffer_spatialfuncs.c</a></li>  </ul>
</div>
</div><!-- top -->
<div class="contents">
<table cellspacing="0" cellpadding="0" border="0">
  <tr>
   <td valign="top">
      <div class="navtab">
        <table>
          <tr><td class="navtab"><a class="navtab" href="tcbuffer__spatialfuncs_8c_a3125afb40ab4f6113e6edc898a4ece45.html#a3125afb40ab4f6113e6edc898a4ece45">cbufferarr_circles</a></td></tr>
          <tr><td class="navtab"><a class="navtab" href="tcbuffer__spatialfuncs_8c_a9e3ee55e0b148d82098c9f8899917bdc.html#a9e3ee55e0b148d82098c9f8899917bdc">circle_type</a></td></tr>
          <tr><td class="navtab"><a class="navtab" href="tcbuffer__spatialfuncs_8c_af425fbcbb2a57f8435255f3563737fbd.html#af425fbcbb2a57f8435255f3563737fbd">ensure_circle_type</a></td></tr>
          <tr><td class="navtab"><a class="navtab" href="tcbuffer__spatialfuncs_8c_a9a5f5bd1c5e8190a96d22dde6f593d5b.html#a9a5f5bd1c5e8190a96d22dde6f593d5b">geocircle_make</a></td></tr>
          <tr><td class="navtab"><a class="navtab" href="tcbuffer__spatialfuncs_8c_a6aaa5536b4f11ae4aed7a114e0f32b87.html#a6aaa5536b4f11ae4aed7a114e0f32b87">geopoint_cmp</a></td></tr>
          <tr><td class="navtab"><a class="navtab" href="tcbuffer__spatialfuncs_8c_ad8290327267bb18b7f28118199edfb9e.html#ad8290327267bb18b7f28118199edfb9e">lwcircle_make</a></td></tr>
          <tr><td class="navtab"><a class="navtab" href="tcbuffer__spatialfuncs_8c_a8b94ab832b29cf060375f55ddf5d768c.html#a8b94ab832b29cf060375f55ddf5d768c">lwcircstring_from_lwpointarray</a></td></tr>
          <tr><td class="navtab"><a class="navtab" href="tcbuffer__spatialfuncs_8c_adf91ca6c0d33219d4b5841de3bc85477.html#adf91ca6c0d33219d4b5841de3bc85477">ptarray_cmp2d</a></td></tr>
          <tr><td class="navtab"><a class="navtab" href="tcbuffer__spatialfuncs_8c_ae4777e2eda111a33968ec6bbaacabf74.html#ae4777e2eda111a33968ec6bbaacabf74">tcbuffer_traversed_area</a></td></tr>
          <tr><td class="navtab"><a class="navtab" href="tcbuffer__spatialfuncs_8c_a471e8dc77190ba68b2c8bf977a6a8f89.html#a471e8dc77190ba68b2c8bf977a6a8f89">tcbufferinst_trav_area</a></td></tr>
          <tr><td class="navtab"><a class="navtab" href="tcbuffer__spatialfuncs_8c_a8f6bb3a6ee6290b588b187f6a916bdf5.html#a8f6bb3a6ee6290b588b187f6a916bdf5">tcbufferseq_discstep_trav_area</a></td></tr>
          <tr><td class="navtab"><a class="navtab" href="tcbuffer__spatialfuncs_8c_a61ab180f121660a110945d3e02682f04.html#a61ab180f121660a110945d3e02682f04">tcbufferseq_linear_trav_area</a></td></tr>
          <tr><td class="navtab"><a class="navtab" href="tcbuffer__spatialfuncs_8c_a920b3c398a37f0750bc9e2e7c083d17a.html#a920b3c398a37f0750bc9e2e7c083d17a">tcbufferseq_linear_trav_area_iter</a></td></tr>
          <tr><td class="navtab"><a class="navtab" href="tcbuffer__spatialfuncs_8c_af10efb34c134d7716e25b2b1ce3a3520.html#af10efb34c134d7716e25b2b1ce3a3520">tcbufferseq_trav_area</a></td></tr>
          <tr><td class="navtab"><a class="navtab" href="tcbuffer__spatialfuncs_8c_a1d62a9a5603879d98a73e02ba5ecb913.html#a1d62a9a5603879d98a73e02ba5ecb913">tcbufferseqset_linear_trav_area</a></td></tr>
          <tr><td class="navtab"><a class="navtab" href="tcbuffer__spatialfuncs_8c_abfdcc36daf2bfdc592f7fa594f7248c0.html#abfdcc36daf2bfdc592f7fa594f7248c0">tcbufferseqset_step_trav_area</a></td></tr>
          <tr><td class="navtab"><a class="navtab" href="tcbuffer__spatialfuncs_8c_aabf986e4d9779bf6968becce7329592c.html#aabf986e4d9779bf6968becce7329592c">tcbufferseqset_trav_area</a></td></tr>
          <tr><td class="navtabHL"><a class="navtab" href="tcbuffer__spatialfuncs_8c_a60b2e52584556ea166432d1993f475b1.html#a60b2e52584556ea166432d1993f475b1">trapezoid_make</a></td></tr>
          <tr><td class="navtab"><a class="navtab" href="tcbuffer__spatialfuncs_8c_a081b023882f97a3d2bb35ae3a4eb0bb7.html#a081b023882f97a3d2bb35ae3a4eb0bb7">trapezoid_sort_cmp</a></td></tr>
          <tr><td class="navtab"><a class="navtab" href="tcbuffer__spatialfuncs_8c_aefc887d822be66a2de19ddedb340a41f.html#aefc887d822be66a2de19ddedb340a41f">trapezoidarr_remove_duplicates</a></td></tr>
          <tr><td class="navtab"><a class="navtab" href="tcbuffer__spatialfuncs_8c_a5c8e87f394cc7eee63a9e500f0f6dce6.html#a5c8e87f394cc7eee63a9e500f0f6dce6">trapezoidarr_sort</a></td></tr>
        </table>
      </div>
   </td>
   <td valign="top" class="mempage">
<a id="a60b2e52584556ea166432d1993f475b1" name="a60b2e52584556ea166432d1993f475b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a60b2e52584556ea166432d1993f475b1">&#9670;&#160;</a></span>trapezoid_make()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structLWGEOM.html">LWGEOM</a> * trapezoid_make </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structCbuffer.html">Cbuffer</a> *&#160;</td>
          <td class="paramname"><em>c1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structCbuffer.html">Cbuffer</a> *&#160;</td>
          <td class="paramname"><em>c2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return a trapezoid created from two circular buffers. </p>
<p >Given two circular buffers, c1 and c2, defined by their centres (x1,y1) and (x2,y2) and radii r1 and r2, respectively, the function computes the tangents points between the two circular buffers, and the two points on the two circular buffers that are farthest from each other as illustrated next </p><div class="fragment"><div class="line">           T1a(x,y)               T2a(x,y)</div>
<div class="line">               |                      |</div>
<div class="line">               ^                      ^</div>
<div class="line">              (-)--------------------(-)</div>
<div class="line">             (---)                  (---)</div>
<div class="line">A1(x,y) --&gt; (-----)                (-----) &lt;-- A2(x,y)</div>
<div class="line">             (---)                  (---)</div>
<div class="line">              (-)--------------------(-)</div>
<div class="line">               ^                      ^</div>
<div class="line">               |                      |</div>
<div class="line">           T1b(x,y)               T2b(x,y)</div>
</div><!-- fragment --><p> In particular, two common external tangent lines, Ta and Tb, intersect both circles at four points</p><ul>
<li>T1a(x,y) and T1b(x,y): the points where Ta and Tb touch circle c1.</li>
<li>T2a(x,y) and T2b(x,y): the points where Ta and Tb touch circle c2. Additionally, each circle has a point that is farthest from the other circle:</li>
<li>A1(x,y) on circle c1: the point between T1a and T1b that is farthest from circle c2.</li>
<li>A2(x,y) on circle c2: the point between T2a and T2b that is farthest from circle c1. This function returns the geometry given by the circular bufferss and the two tangent lines.</li>
</ul>
<p >An example of usage of the function is given next. </p><div class="fragment"><div class="line">SELECT ST_AsText(traversedArea(tcbuffer <span class="stringliteral">&#39;[Cbuffer(Point(1 1),1)@2000-01-01,</span></div>
<div class="line"><span class="stringliteral">  Cbuffer(Point(3 2),2)@2000-01-02]&#39;</span>), 3);</div>
<div class="line">-- CURVEPOLYGON(COMPOUNDCURVE(</div>
<div class="line">     CIRCULARSTRING(1.4 3.2,4.789 2.894,3 0),(3 0,1 0),</div>
<div class="line">     CIRCULARSTRING(1 0,0.106 0.553,0.2 1.6),(0.2 1.6,1.4 3.2)))</div>
</div><!-- fragment --> 
</div>
</div>
    </td>
  </tr>
</table>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5
</small></address>
</body>
</html>
