<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MobilityDB: meos/examples/ais_expand_skiplist.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="mobilitydb-logo-icon.png"/></td>
  <td id="projectalign">
   <div id="projectname">MobilityDB<span id="projectnumber">&#160;1.3</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_0fff62ca9c7e6b49d869dbbeba2dc9ed.html">meos</a></li><li class="navelem"><a class="el" href="dir_12121c49f044f6afa0e21d8cd2ea7508.html">examples</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">ais_expand_skiplist.c File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>A simple program that reads AIS data from a CSV file containing one full day of observations provided by the Danish Maritime Authority in <a href="https://web.ais.dk/aisdata/">https://web.ais.dk/aisdata/</a>, constructs for each ship temporal values for the trip and the SOG, and outputs for each ship the MMSI, the number of records and instants used for contruct the temporal values, the distance travelled and the time-weighted average of the SOG.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;time.h&gt;</code><br />
<code>#include &lt;<a class="el" href="meos_8h_source.html">meos.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="meos__geo_8h_source.html">meos_geo.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="meos__internal_8h_source.html">meos_internal.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="meos__internal__geo_8h_source.html">meos_internal_geo.h</a>&gt;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structAIS__record.html">AIS_record</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrip__record.html">trip_record</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a64ca261a530c6024bae8a7734511357b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ais__expand__skiplist_8c_a64ca261a530c6024bae8a7734511357b.html#a64ca261a530c6024bae8a7734511357b">INITIAL_INSTANTS</a>&#160;&#160;&#160;64</td></tr>
<tr class="separator:a64ca261a530c6024bae8a7734511357b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa729c0ad8dfb5bd7b9849e1e8bbf2c73"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ais__expand__skiplist_8c_aa729c0ad8dfb5bd7b9849e1e8bbf2c73.html#aa729c0ad8dfb5bd7b9849e1e8bbf2c73">MAX_LENGTH_LINE</a>&#160;&#160;&#160;1024</td></tr>
<tr class="separator:aa729c0ad8dfb5bd7b9849e1e8bbf2c73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76edcf233e19fe14ccc5c699380fa535"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ais__expand__skiplist_8c_a76edcf233e19fe14ccc5c699380fa535.html#a76edcf233e19fe14ccc5c699380fa535">MAX_LENGTH_POINT</a>&#160;&#160;&#160;64</td></tr>
<tr class="separator:a76edcf233e19fe14ccc5c699380fa535"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2847ffcbd7862e7af90ce7597ce8c4f5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ais__expand__skiplist_8c_a2847ffcbd7862e7af90ce7597ce8c4f5.html#a2847ffcbd7862e7af90ce7597ce8c4f5">MAX_LENGTH_STRING</a>&#160;&#160;&#160;64</td></tr>
<tr class="separator:a2847ffcbd7862e7af90ce7597ce8c4f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ae5ffbde49c898ab5c5a2b37da3a0a8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ais__expand__skiplist_8c_a8ae5ffbde49c898ab5c5a2b37da3a0a8.html#a8ae5ffbde49c898ab5c5a2b37da3a0a8">MAX_LENGTH_TIMESTAMP</a>&#160;&#160;&#160;32</td></tr>
<tr class="separator:a8ae5ffbde49c898ab5c5a2b37da3a0a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf13d135f55aa629688b12ffdecc39e9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ais__expand__skiplist_8c_acf13d135f55aa629688b12ffdecc39e9.html#acf13d135f55aa629688b12ffdecc39e9">MAX_NO_RECORDS</a>&#160;&#160;&#160;20000000</td></tr>
<tr class="separator:acf13d135f55aa629688b12ffdecc39e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4dacbe007856a4687ef4a6ecfe866b7f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ais__expand__skiplist_8c_a4dacbe007856a4687ef4a6ecfe866b7f.html#a4dacbe007856a4687ef4a6ecfe866b7f">NO_RECORDS_BATCH</a>&#160;&#160;&#160;100000</td></tr>
<tr class="separator:a4dacbe007856a4687ef4a6ecfe866b7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a840291bc02cba5474a4cb46a9b9566fe"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ais__expand__skiplist_8c_a840291bc02cba5474a4cb46a9b9566fe.html#a840291bc02cba5474a4cb46a9b9566fe">main</a> (void)</td></tr>
<tr class="separator:a840291bc02cba5474a4cb46a9b9566fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae213f376a99e722680b4fe94fdc67c63"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ais__expand__skiplist_8c_ae213f376a99e722680b4fe94fdc67c63.html#ae213f376a99e722680b4fe94fdc67c63">rec_skiplist_free</a> (<a class="el" href="structSkipList.html">SkipList</a> *list)</td></tr>
<tr class="memdesc:ae213f376a99e722680b4fe94fdc67c63"><td class="mdescLeft">&#160;</td><td class="mdescRight">Specific free function for the skiplist that also frees the temporal values in the record values.  <a href="ais__expand__skiplist_8c_ae213f376a99e722680b4fe94fdc67c63.html#ae213f376a99e722680b4fe94fdc67c63">More...</a><br /></td></tr>
<tr class="separator:ae213f376a99e722680b4fe94fdc67c63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75aab7f5dadc88770b9e83ed723b931d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ais__expand__skiplist_8c_a75aab7f5dadc88770b9e83ed723b931d.html#a75aab7f5dadc88770b9e83ed723b931d">trip_comp_fn</a> (void *left, void *right)</td></tr>
<tr class="separator:a75aab7f5dadc88770b9e83ed723b931d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3129db8e196b585c73a914fa088dabe1"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ais__expand__skiplist_8c_a3129db8e196b585c73a914fa088dabe1.html#a3129db8e196b585c73a914fa088dabe1">trip_merge_fn</a> (void *left, void *right)</td></tr>
<tr class="separator:a3129db8e196b585c73a914fa088dabe1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >A simple program that reads AIS data from a CSV file containing one full day of observations provided by the Danish Maritime Authority in <a href="https://web.ais.dk/aisdata/">https://web.ais.dk/aisdata/</a>, constructs for each ship temporal values for the trip and the SOG, and outputs for each ship the MMSI, the number of records and instants used for contruct the temporal values, the distance travelled and the time-weighted average of the SOG. </p>
<p >Please notice that the <code>data</code> directory DOES NOT contain the input CSV file, you must download it from the website above.</p>
<p >Please read the assumptions made about the input CSV file in the file <code><a class="el" href="02__ais__read_8c.html" title="A simple program that reads AIS data from a CSV file and outputs a few of these records converted int...">02_ais_read.c</a></code> in the same directory. The program uses a compilation constraint that can be used to reduce the number of records in processed. Also, the program copes with minimal error correction, that is,</p><ul>
<li>It supposes that the observations have increasing timestamp values</li>
<li>It verifies that the latitude, longitude, and SOG values read are in specified ranges, and</li>
<li>It takes only the first observation when there are two or more observations for the same ship with equal timestamp values.</li>
</ul>
<p >The program can be build as follows </p><div class="fragment"><div class="line">gcc -Wall -g -I/usr/local/include -o ais_expand_skiplist ais_expand_skiplist.c -L/usr/local/lib -lmeos</div>
</div><!-- fragment --> </div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5
</small></address>
</body>
</html>
