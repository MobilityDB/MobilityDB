<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>Accesores</title><link rel="stylesheet" type="text/css" href="docbook.css"><meta name="generator" content="DocBook XSL Stylesheets Vsnapshot"><link rel="home" href="index.html" title="MobilityDB 1.1 Manual de usuario"><link rel="up" href="ch02.html" title="Capítulo 2. Tipos de conjunto y de rango"><link rel="prev" href="ch02s03.html" title="Conversión de tipos"><link rel="next" href="ch02s05.html" title="Transformaciones"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Accesores</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch02s03.html">Anterior</a> </td><th width="60%" align="center">Capítulo 2. Tipos de conjunto y de rango</th><td width="20%" align="right"> <a accesskey="n" href="ch02s05.html">Siguiente</a></td></tr></table><hr></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idm865"></a>Accesores</h2></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a name="setspan_memSize"></a><a class="indexterm" name="idm869"></a><p>Obtener el tamaño de la memoria en bytes</p><p><code class="varname">memSize({set,spanset}) → integer</code></p><pre class="programlisting">
SELECT memSize(tstzset '{2001-01-01, 2001-01-02, 2001-01-03}');
-- 48
SELECT memSize(tstzspanset '{[2001-01-01, 2001-01-02], [2001-01-03, 2001-01-04],
  [2001-01-05, 2001-01-06]}');
-- 112
</pre></li><li class="listitem"><a name="lower"></a><a class="indexterm" name="idm877"></a><a class="indexterm" name="idm880"></a><p>Obtener el límite inferior o superior</p><p><code class="varname">lower(spans) → base</code></p><p><code class="varname">upper(spans) → base</code></p><pre class="programlisting">
SELECT lower(tstzspan '[2001-01-01, 2001-01-05)');
-- 2001-01-01
SELECT lower(intspanset '{[1,2],[4,5]}');
--  1
</pre><pre class="programlisting">
SELECT lower(tstzspan '[2001-01-01, 2001-01-05)');
-- 2001-01-01
SELECT upper(intspanset '{[1,2],[4,5]}');
--  6
SELECT lower(tstzspan '[2001-01-01, 2001-01-05)');
-- 2001-01-01
SELECT lower(intspanset '{[1,2],[4,5]}');
--  1
</pre><pre class="programlisting">
SELECT upper(floatspan '[20.5, 25.3)');
-- 25.3
SELECT upper(tstzspan '[2001-01-01, 2001-01-05)');
-- 2001-01-05
</pre></li><li class="listitem"><a name="setspan_lowerInc"></a><a class="indexterm" name="idm892"></a><a class="indexterm" name="idm895"></a><p>¿Es el límite inferior or superior inclusivo?</p><p><code class="varname">lowerInc(spans) → boolean</code></p><p><code class="varname">upperInc(spans) → boolean</code></p><pre class="programlisting">
SELECT lowerInc(datespan '[2001-01-01, 2001-01-05)');
-- true
SELECT lowerInc(intspanset '{[1,2],[4,5]}');
-- true
</pre><pre class="programlisting">
SELECT lowerInc(tstzspan '[2001-01-01, 2001-01-05)');
-- true
SELECT upperInc(intspanset '{[1,2],[4,5]}');
-- false
SELECT upper(floatspan '[20.5, 25.3]');
-- true
SELECT upperInc(tstzspan '[2001-01-01, 2001-01-05)');
-- false
</pre></li><li class="listitem"><a name="width"></a><a class="indexterm" name="idm906"></a><p>Obtener el ancho del rango como un número de punto flotante</p><p><code class="varname">width(numspan) → float</code></p><p><code class="varname">width(numspanset,boundspan=false) → float</code></p><p>Se puede establecer a verdadero un parámetro adicional para calcular el ancho del rango delimitador, ignorando así las posibles brechas de valors</p><pre class="programlisting">
SELECT width(floatspan '[1, 3)');
-- 2
SELECT width(intspanset '{[1,3),[5,7)}');
-- 4
SELECT width(intspanset '{[1,3),[5,7)}', true);
-- 6
</pre></li><li class="listitem"><a name="setspan_duration"></a><a class="indexterm" name="idm917"></a><p>Obtener el intervalo de tiempo</p><p><code class="varname">duration({datespan,tstzspan}) → interval</code></p><p><code class="varname">duration({datespanset,tstzspanset},boundspan bool=false) → interval</code></p><p>Se puede establecer a verdadero un parámetro adicional para calcular la duración en el rango delimitador, ignorando así las posibles brechas de tiempo</p><pre class="programlisting">
SELECT duration(datespan '[2001-01-01, 2001-01-03)');
-- 2 days
SELECT duration(tstzspanset '{[2001-01-01, 2001-01-03), [2001-01-04, 2001-01-05)}');
-- 3 days
SELECT duration(tstzspanset '{[2001-01-01, 2001-01-03), [2001-01-04, 2001-01-05)}', true);
-- 4 days
</pre></li><li class="listitem"><a name="setspan_numValues"></a><a class="indexterm" name="idm928"></a><p>Obtener el número de valores</p><p><code class="varname">numValues(set) → integer</code></p><pre class="programlisting">
SELECT numValues(intset '{1,3,5,7}');
-- 4
</pre></li><li class="listitem"><a name="setspan_startValue"></a><a class="indexterm" name="idm936"></a><a class="indexterm" name="idm939"></a><a class="indexterm" name="idm942"></a><p>Obtener el valor inicial, final o enésimo</p><p><code class="varname">startValue(set) → base</code></p><p><code class="varname">endValue(set) → base</code></p><p><code class="varname">valueN(set,integer) → base</code></p><pre class="programlisting">
SELECT startValue(intset '{1,3,5,7}');
-- 1
SELECT endValue(dateset '{2001-01-01, 2001-01-03, 2001-01-05, 2001-01-07}');
-- 2001-01-07
SELECT valueN(floatset '{1,3,5,7}',2);
-- 3
</pre></li><li class="listitem"><a name="setspan_getValues"></a><a class="indexterm" name="idm954"></a><p>Obtener los valores</p><p><code class="varname">getValues(set) → base[]</code></p><pre class="programlisting">
SELECT getValues(tstzset '{2001-01-01, 2001-01-03, 2001-01-05, 2001-01-07}');
-- {"2001-01-01", "2001-01-03", "2001-01-05", "2001-01-07"}
</pre></li><li class="listitem"><a name="numSpans"></a><a class="indexterm" name="idm962"></a><p>Obtener el número de rangos</p><p><code class="varname">numSpans(spanset) → integer</code></p><pre class="programlisting">
SELECT numSpans(intspanset '{[1,3),[4,5),[6,7)}');
-- 3
SELECT numSpans(datespanset '{[2001-01-01, 2001-01-03), [2001-01-04, 2001-01-05),
  [2001-01-06, 2001-01-07)}');
-- 3
</pre></li><li class="listitem"><a name="startSpan"></a><a class="indexterm" name="idm970"></a><a class="indexterm" name="idm973"></a><a class="indexterm" name="idm976"></a><p>Obtener el rango inicial, final o enésimo</p><p><code class="varname">startSpan(spanset) → span</code></p><p><code class="varname">endSpan(spanset) → span</code></p><p><code class="varname">spanN(spanset,integer) → span</code></p><pre class="programlisting">
SELECT startSpan(intspanset '{[1,3),[4,5),[6,7)}');
-- [1,3)
SELECT startSpan(datespanset '{[2001-01-01, 2001-01-03), [2001-01-04, 2001-01-05),
  [2001-01-06, 2001-01-07)}');
-- [2001-01-01,2001-01-03)
</pre><pre class="programlisting">
SELECT endSpan(floatspanset '{[1,3),[4,4],[6,7)}');
-- [6,7)
SELECT endSpan(tstzspanset '{[2001-01-01, 2001-01-03), [2001-01-04, 2001-01-04],
  [2001-01-05, 2001-01-06)}');
-- [2001-01-05,2001-01-06)
</pre><pre class="programlisting">
SELECT spanN(floatspanset '{[1,3),[4,4],[6,7)}',2);
-- [4,4]
SELECT spanN(tstzspanset '{[2001-01-01, 2001-01-03), [2001-01-04, 2001-01-04],
  [2001-01-05, 2001-01-06)}', 2);
-- [2001-01-04,2001-01-04]
</pre></li><li class="listitem"><a name="spans"></a><a class="indexterm" name="idm990"></a><p>Obtener los rangos</p><p><code class="varname">spans(spanset) → span[]</code></p><pre class="programlisting">
SELECT spans(floatspanset '{[1,3),[4,4],[6,7)}');
-- {"[1,3)","[4,4]","[6,7)"}
SELECT spans(tstzspanset '{[2001-01-01, 2001-01-03), [2001-01-04, 2001-01-04],
  [2001-01-05, 2001-01-06)}');
-- {"[2001-01-01,2001-01-03)", "[2001-01-04,2001-01-04]", "[2001-01-05,2001-01-06)"}
</pre></li><li class="listitem"><a name="setspan_numTimestamps"></a><a class="indexterm" name="idm998"></a><a class="indexterm" name="idm1001"></a><p>Obtener el número de fechas o marcas de tiempo diferentes</p><p><code class="varname">numDates(datespanset) → integer</code></p><p><code class="varname">numTimestamps(tstzspanset) → integer</code></p><pre class="programlisting">
SELECT numDates(datespanset '{[2001-01-01, 2001-01-02), [2001-01-03, 2001-01-04)}');
-- 4
SELECT numTimestamps(tstzspanset '{[2001-01-01, 2001-01-03), (2001-01-03, 2001-01-05)}');
-- 3
</pre></li><li class="listitem"><a name="setspan_startTimestamp"></a><a class="indexterm" name="idm1011"></a><a class="indexterm" name="idm1014"></a><a class="indexterm" name="idm1017"></a><a class="indexterm" name="idm1020"></a><a class="indexterm" name="idm1023"></a><a class="indexterm" name="idm1026"></a><p>Obtener la fecha o marca de tiempo inicial, final o enésima</p><p><code class="varname">startDate(datespanset) → date</code></p><p><code class="varname">endDate(datespanset) → date</code></p><p><code class="varname">dateN(datespanset,integer) → date</code></p><p><code class="varname">startTimestamp(tstzspanset) → timestamptz</code></p><p><code class="varname">endTimestamp(tstzspanset) → timestamptz</code></p><p><code class="varname">timestampN(tstzspanset,integer) → timestamptz</code></p><p>La función no tiene en cuenta si los límites son inclusivos o no.</p><pre class="programlisting">
SELECT startDate(datespanset '{[2001-01-01, 2001-01-02), [2001-01-03, 2001-01-04)}');
-- 2001-01-01
SELECT endTimestamp(tstzspanset '{[2001-01-01, 2001-01-03), (2001-01-03, 2001-01-05)}');
-- 2001-01-05
SELECT timestampN(tstzspanset '{[2001-01-01, 2001-01-03), (2001-01-03, 2001-01-05)}', 3);
-- 2001-01-05
</pre></li><li class="listitem"><a name="setspan_timestamps"></a><a class="indexterm" name="idm1045"></a><a class="indexterm" name="idm1048"></a><p>Obtener el conjunto de fechas o marcas de tiempo diferentes</p><p><code class="varname">dates(datespanset) → dateset</code></p><p><code class="varname">timestamps(tstzspanset) → tstzset</code></p><p>La función no tiene en cuenta si los límites son inclusivos o no.</p><pre class="programlisting">
SELECT dates(datespanset '{[2001-01-01, 2001-01-02), [2001-01-03, 2001-01-04)}');
-- {2001-01-01, 2001-01-02, 2001-01-03, 2001-01-04}
SELECT timestamps(tstzspanset '{[2001-01-01, 2001-01-03), (2001-01-03, 2001-01-05)}');
-- {"2001-01-01 00:00:00", "2001-01-03 00:00:00", "2001-01-05 00:00:00"}
</pre></li></ul></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch02s03.html">Anterior</a> </td><td width="20%" align="center"><a accesskey="u" href="ch02.html">Subir</a></td><td width="40%" align="right"> <a accesskey="n" href="ch02s05.html">Siguiente</a></td></tr><tr><td width="40%" align="left" valign="top">Conversión de tipos </td><td width="20%" align="center"><a accesskey="h" href="index.html">Inicio</a></td><td width="40%" align="right" valign="top"> Transformaciones</td></tr></table></div></body></html>
