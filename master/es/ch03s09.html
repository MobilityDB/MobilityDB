<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>Operaciones de cuadro delimitador</title><link rel="stylesheet" type="text/css" href="docbook.css"><meta name="generator" content="DocBook XSL Stylesheets Vsnapshot"><link rel="home" href="index.html" title="MobilityDB 1.3 Manual de usuario"><link rel="up" href="ch03.html" title="Capítulo 3. Tipos de cuadro delimitador"><link rel="prev" href="ch03s08.html" title="Operaciones de conjuntos"><link rel="next" href="ch03s10.html" title="Comparaciones"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Operaciones de cuadro delimitador</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch03s08.html">Anterior</a> </td><th width="60%" align="center">Capítulo 3. Tipos de cuadro delimitador</th><td width="20%" align="right"> <a accesskey="n" href="ch03s10.html">Siguiente</a></td></tr></table><hr></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="box_types_topo_pos"></a>Operaciones de cuadro delimitador</h2></div></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="id788"></a>Operaciones topológicas</h3></div></div></div><p>Hay cinco operadores topológicos: superposición (<code class="varname">&amp;&amp;</code>), contiene (<code class="varname">@&gt;</code>), es contenido (<code class="varname">&lt;@</code>), mismo (<code class="varname">~=</code>) y adyacente (<code class="varname">-|-</code>). Los operadores verifican la relación topológica entre los cuadros delimitadores teniendo en cuenta la dimensión de valor y/o de tiempo para todas las dimensiónes que estén presentes en ambos argumentos.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a name="box_overlap"></a><a class="indexterm" name="id2932"></a><p>¿Se superponen los cuadros delimitadores?</p><p><code class="varname">box &amp;&amp; box → boolean</code></p><pre class="programlisting">
SELECT tbox 'TBOXFLOAT XT((1,3),[2001-01-01,2001-01-03])' &amp;&amp;
  tbox 'TBOXFLOAT XT((2,4),[2001-01-02,2001-01-04])';
-- true
SELECT stbox 'STBOX XT(((1,1),(2,2)),[2001-01-01,2001-01-02])' &amp;&amp;
  stbox 'STBOX XT([2001-01-02,2001-01-02])';
-- true
</pre></li><li class="listitem"><a name="box_contains"></a><a class="indexterm" name="id2940"></a><p>¿Contiene el primer cuadro delimitador el segundo?</p><p><code class="varname">box @&gt; box → boolean</code></p><pre class="programlisting">
SELECT tbox 'TBOXFLOAT XT((1,4),[2001-01-01,2001-01-04])' @&gt;
  tbox 'TBOXFLOAT XT((2,3),[2001-01-01,2001-01-02])';
-- true
SELECT stbox 'STBOX Z((1,1,1),(3,3,3))' @&gt;
  stbox 'STBOX XT(((1,1),(2,2)),[2001-01-01,2001-01-02])';
-- true
</pre></li><li class="listitem"><a name="box_containedby"></a><a class="indexterm" name="id2948"></a><p>¿Está el primer cuadro delimitador contenido en el segundo?</p><p><code class="varname">box &lt;@ box → boolean</code></p><pre class="programlisting">
SELECT tbox 'TBOXFLOAT XT((1,2),[2001-01-01,2001-01-02])' &lt;@
  tbox 'TBOXFLOAT XT((1,2),[2001-01-01,2001-01-02])';
-- true
SELECT stbox 'STBOX XT(((1,1),(2,2)),[2001-01-01,2001-01-02)' &lt;@
  stbox 'STBOX ZT(((1,1,1),(2,2,2)),[2001-01-01,2001-01-02])';
-- true
</pre></li><li class="listitem"><a name="box_same"></a><a class="indexterm" name="id2956"></a><p>¿Son los cuadros delimitadores iguales en sus dimensiónes comunes?</p><p><code class="varname">box ~= box → boolean</code></p><pre class="programlisting">
SELECT tbox 'TBOXFLOAT XT((1,2),[2001-01-01,2001-01-02])' ~=
  tbox 'TBOXFLOAT XT([2001-01-01,2001-01-02])';
-- true
SELECT stbox 'STBOX XT(((1,1),(3,3)),[2001-01-01,2001-01-03])' ~=
  stbox 'STBOX Z((1,1,1),(3,3,3))';
-- true
</pre></li><li class="listitem"><a name="box_adjacent"></a><a class="indexterm" name="id2964"></a><p>¿Son los cuadros delimitadores adyacentes?</p><p><code class="varname">box -|- box → boolean</code></p><p>Dos cuadros delimitadores son adyacentes si comparten  <span class="emphasis"><em>n</em></span> dimensiónes y si su intersección tiene como máximo <span class="emphasis"><em>n</em></span>-1 dimensiónes.</p><pre class="programlisting">
SELECT tbox 'TBOXINT XT([1,2),[2001-01-01,2001-01-02])' -|-
  tbox 'TBOXINT XT([2,3),[2001-01-02,2001-01-03])';
-- true
SELECT tbox 'TBOXFLOAT XT((1,2)[2001-01-01,2001-01-02])' -|-
  tbox 'TBOX T([2001-01-02,2001-01-03])';
-- true
SELECT stbox 'STBOX XT(((1,1),(3,3)),[2001-01-01,2001-01-03])' -|-
  stbox 'STBOX XT(((2,2),(4,4)),[2001-01-03,2001-01-04])';
-- true
</pre></li></ul></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="id789"></a>Operaciones de posición</h3></div></div></div><p>Los operadores de posición consideran la posición relativa de los cuadros delimitadores. Los operadores <code class="varname">&lt;&lt;</code>, <code class="varname">&gt;&gt;</code>, <code class="varname">&amp;&lt;</code> y <code class="varname">&amp;&gt;</code> consideran el valor X para el tipo <code class="varname">tbox</code> y las coordenadas X para el tipo <code class="varname">stbox</code>, los operadores <code class="varname">&lt;&lt;|</code>, <code class="varname">|&gt;&gt;</code>, <code class="varname">&amp;&lt;|</code> y <code class="varname">|&amp;&gt;</code> consideran las coordenadas Y para el tipo <code class="varname">stbox</code>, los operadores <code class="varname">&lt;&lt;/</code>, <code class="varname">/&gt;&gt;</code>, <code class="varname">&amp;&lt;/</code> y <code class="varname">/&amp;&gt;</code> consideran las coordenadas Z para el tipo <code class="varname">stbox</code> y los operadores <code class="varname">&lt;&lt;#</code>, <code class="varname">#&gt;&gt;</code>, <code class="varname">#&amp;&lt;</code> y <code class="varname">#&amp;&gt;</code> consideran la dimensión de tiempo para los tipos <code class="varname">tbox</code> y <code class="varname">stbox</code>. Los operadores generan un error si ambos cuadros delimitadores no tienen la dimensión requerida.</p><p>Los operadores para la dimensión numérica del tipo <code class="varname">tbox</code> se dan a continuación.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a name="tbox_left"></a><a class="indexterm" name="id3002"></a><a class="indexterm" name="id3005"></a><a class="indexterm" name="id3008"></a><a class="indexterm" name="id3011"></a><p>¿Son los valores X/Y/Z/T del primer cuadro delimitador estrictamente menores que los del segundo?</p><p><code class="varname">box &lt;&lt; box → boolean</code></p><p><code class="varname">stbox &lt;&lt;| stbox → boolean</code></p><p><code class="varname">stbox &lt;&lt;/ stbox → boolean</code></p><p><code class="varname">box &lt;&lt;# box → boolean</code></p><pre class="programlisting">
SELECT tbox 'TBOXFLOAT XT((1,2),[2001-01-01,2001-01-02])' &lt;&lt;
  tbox 'TBOXFLOAT XT((3,4),[2001-01-03,2001-01-04])';
-- true
SELECT tbox 'TBOXFLOAT XT((1,2),[2001-01-01,2001-01-02])' &lt;&lt;
  tbox 'TBOXFLOAT XT([2001-01-03,2001-01-04])';
-- ERROR:  The box must have value dimension
SELECT stbox 'STBOX Z((1,1,1),(2,2,2))' &lt;&lt; stbox 'STBOX Z((3,3,3),(4,4,4))';
-- true
SELECT stbox 'STBOX Z((1,1,1),(2,2,2))' &lt;&lt;| stbox 'STBOX Z((3,3,3),(4,4,4))';
-- true
SELECT stbox 'STBOX Z((1,1,1),(2,2,2))' &lt;&lt;/ stbox 'STBOX Z((3,3,3),(4,4,4))';
-- true
SELECT tbox 'TBOXFLOAT XT((1,2),[2001-01-01,2001-01-02])' &lt;&lt;#
  tbox 'TBOXFLOAT XT((3,4),[2001-01-03,2001-01-04])';
-- true
</pre></li><li class="listitem"><a name="tbox_right"></a><a class="indexterm" name="id3025"></a><a class="indexterm" name="id3028"></a><a class="indexterm" name="id3031"></a><a class="indexterm" name="id3034"></a><p>¿Son los valores X/Y/Z/T del primer cuadro delimitador estrictamente mayores que los del segundo?</p><p><code class="varname">box &gt;&gt; box → boolean</code></p><p><code class="varname">stbox |&gt;&gt; stbox → boolean</code></p><p><code class="varname">stbox /&gt;&gt; stbox → boolean</code></p><p><code class="varname">box #&gt;&gt; box → boolean</code></p><pre class="programlisting">
SELECT tbox 'TBOXFLOAT XT((3,4),[2001-01-03,2001-01-04])' &gt;&gt;
  tbox 'TBOXFLOAT XT((1,2),[2001-01-01,2001-01-02])';
-- true
SELECT stbox 'STBOX Z((3,3,3),(4,4,4))' &gt;&gt; stbox 'STBOX Z((1,1,1),(2,2,2))';
-- true
SELECT stbox 'STBOX Z((3,3,3),(4,4,4))' |&gt;&gt; stbox 'STBOX Z((1,1,1),(2,2,2))';
-- true
SELECT stbox 'STBOX Z((3,3,3),(4,4,4))' /&gt;&gt; stbox 'STBOX Z((1,1,1),(2,2,2))';
-- true
SELECT stbox 'STBOX XT((4,4),[2001-01-03,2001-01-04],((3,3)))'  #&gt;&gt;
  stbox 'STBOX XT(((1,1),(2,2)),[2001-01-01,2001-01-02])';
-- true
</pre></li><li class="listitem"><a name="tbox_overleft"></a><a class="indexterm" name="id3048"></a><a class="indexterm" name="id3051"></a><a class="indexterm" name="id3054"></a><a class="indexterm" name="id3057"></a><p>¿No son los valores X/Y/Z/T del primer cuadro delimitador mayores que los del segundo?</p><p><code class="varname">box &amp;&lt; box → boolean</code></p><p><code class="varname">stbox &amp;&lt;| stbox → boolean</code></p><p><code class="varname">stbox &amp;&lt;/ stbox → boolean</code></p><p><code class="varname">box &amp;&lt;# box → boolean</code></p><pre class="programlisting">
SELECT tbox 'TBOXFLOAT XT((1,4),[2001-01-01,2001-01-04])' &amp;&lt;
  tbox 'TBOXFLOAT XT((3,4),[2001-01-03,2001-01-04])';
-- true
SELECT stbox 'STBOX Z((1,1,1),(4,4,4))' &amp;&lt; stbox 'STBOX Z((3,3,3),(4,4,4))';
-- true
SELECT stbox 'STBOX Z((1,1,1),(4,4,4))' &amp;&lt;| stbox 'STBOX Z((3,3,3),(4,4,4))';
-- true
SELECT stbox 'STBOX Z((1,1,1),(4,4,4))' &amp;&lt;/ stbox 'STBOX Z((3,3,3),(4,4,4))';
-- true
SELECT tbox 'TBOXFLOAT XT((1,4),[2001-01-01,2001-01-04])' &amp;&lt;#
  tbox 'TBOXFLOAT XT((3,4),[2001-01-03,2001-01-04])';
-- true
</pre></li><li class="listitem"><a name="tbox_overright"></a><a class="indexterm" name="id3071"></a><a class="indexterm" name="id3074"></a><a class="indexterm" name="id3077"></a><a class="indexterm" name="id3080"></a><p>¿No son los valores X/Y/Z/T del primer cuadro delimitador menores que los del segundo?</p><p><code class="varname">box &amp;&gt; box → boolean</code></p><p><code class="varname">stbox |&amp;&gt; stbox → boolean</code></p><p><code class="varname">stbox /&amp;&gt; stbox → boolean</code></p><p><code class="varname">box #&amp;&gt; box → boolean</code></p><pre class="programlisting">
SELECT tbox 'TBOXFLOAT XT((1,2),[2001-01-01,2001-01-02])' &amp;&gt;
  tbox 'TBOXFLOAT XT((1,4),[2001-01-01,2001-01-04])';
-- true
SELECT stbox 'STBOX Z((3,3,3),(4,4,4))' &amp;&gt; stbox 'STBOX Z((1,1,1),(2,2,2))';
-- true
SELECT stbox 'STBOX Z((3,3,3),(4,4,4))' |&amp;&gt; stbox 'STBOX Z((1,1,1),(2,2,2))';
-- false
SELECT stbox 'STBOX Z((3,3,3),(4,4,4))' /&amp;&gt; stbox 'STBOX Z((1,1,1),(2,2,2))';
-- true
SELECT stbox 'STBOX XT(((1,1),(2,2)),[2001-01-01,2001-01-02])' #&amp;&gt;
  stbox 'STBOX XT(((1,1),(4,4)),[2001-01-01,2001-01-04])';
-- true
</pre></li></ul></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch03s08.html">Anterior</a> </td><td width="20%" align="center"><a accesskey="u" href="ch03.html">Subir</a></td><td width="40%" align="right"> <a accesskey="n" href="ch03s10.html">Siguiente</a></td></tr><tr><td width="40%" align="left" valign="top">Operaciones de conjuntos </td><td width="20%" align="center"><a accesskey="h" href="index.html">Inicio</a></td><td width="40%" align="right" valign="top"> Comparaciones</td></tr></table></div></body></html>
