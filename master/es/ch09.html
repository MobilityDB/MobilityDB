<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>Capítulo 9. Tipos temporales: Operaciones de análisis</title><link rel="stylesheet" type="text/css" href="docbook.css"><meta name="generator" content="DocBook XSL Stylesheets Vsnapshot"><link rel="home" href="index.html" title="MobilityDB 1.2 Manual de usuario"><link rel="up" href="index.html" title="MobilityDB 1.2 Manual de usuario"><link rel="prev" href="ch08s07.html" title="Relaciones espaciales"><link rel="next" href="ch09s02.html" title="Reducción"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Capítulo 9. Tipos temporales: Operaciones de análisis</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch08s07.html">Anterior</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="ch09s02.html">Siguiente</a></td></tr></table><hr></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a name="temporal_types_analytics"></a>Capítulo 9. Tipos temporales: Operaciones de análisis</h1></div></div></div><div class="toc"><p><b>Tabla de contenidos</b></p><dl class="toc"><dt><span class="sect1"><a href="ch09.html#temporal_types_simplification">Simplificación</a></span></dt><dt><span class="sect1"><a href="ch09s02.html">Reducción</a></span></dt><dt><span class="sect1"><a href="ch09s03.html">Similaridad</a></span></dt><dt><span class="sect1"><a href="ch09s04.html">Operaciones de división del cuadro delimitador</a></span></dt><dt><span class="sect1"><a href="ch09s05.html">Mosaicos multidimensionales</a></span></dt><dd><dl><dt><span class="sect2"><a href="ch09s05.html#bin_functions">Operaciones de intervalos</a></span></dt><dt><span class="sect2"><a href="ch09s05.html#tile_functions">Operaciones de mosaicos</a></span></dt><dt><span class="sect2"><a href="ch09s05.html#boxes_functions">Operaciones de cuadro delimitador</a></span></dt><dt><span class="sect2"><a href="ch09s05.html#split_functions">Operaciones de fragmentación</a></span></dt></dl></dd></dl></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="temporal_types_simplification"></a>Simplificación</h2></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a name="minDistSimplify"></a><a class="indexterm" name="idm5164"></a><a class="indexterm" name="idm5167"></a><p>Simplificar un flotante o un punto temporal asegurándose de que los valores consecutivos estén al menos separados por una cierta distancia o intervalo de tiempo <span class="inlinemediaobject"><img src="../images/cube.svg" width="13"></span>
 <span class="inlinemediaobject"><img src="../images/world.svg" width="13"></span>
</p><p><code class="varname">minDistSimplify({tfloat,tpoint},mindist float) → {tfloat,tpoint}</code></p><p><code class="varname">minTimeDeltaSimplify({tfloat,tpoint},mint interval) → {tfloat,tpoint}</code></p><p>En el caso de puntos temporales la distancia se especifica en las unidades del sistema de coordenadas. Observe que la simplificación se aplica sólo a secuencias temporales o conjuntos de secuencias con interpolación lineal. En todos los demás casos, se devuelve una copia del punto temporal dado.</p><pre class="programlisting">
SELECT minDistSimplify(tfloat '[1@2001-01-01,2@2001-01-02,3@2001-01-04,4@2001-01-05]', 1);
-- [1@2001-01-01, 3@2001-01-04, 4@2001-01-05]
SELECT asText(minDistSimplify(tgeompoint '[Point(1 1 1)@2001-01-01,
  Point(2 2 2)@2001-01-02, Point(3 3 3)@2001-01-04, Point(5 5 5)@2001-01-05)', sqrt(3)));
-- [POINT Z (1 1 1)@2001-01-01, POINT Z (3 3 3)@2001-01-04, POINT Z (5 5 5)@2001-01-05)
SELECT asText(minDistSimplify(tgeompoint '[Point(1 1 1)@2001-01-01,
  Point(2 2 2)@2001-01-02, Point(3 3 3)@2001-01-04, Point(4 4 4)@2001-01-05)', sqrt(3)));
-- [POINT Z (1 1 1)@2001-01-01, POINT Z (3 3 3)@2001-01-04, POINT Z (4 4 4)@2001-01-05]
</pre><pre class="programlisting">
SELECT minTimeDeltaSimplify(tfloat '[1@2001-01-01, 2@2001-01-02, 3@2001-01-04,
  4@2001-01-05]', '1 day');
-- [1@2001-01-01, 3@2001-01-04, 4@2001-01-05]
SELECT asText(minTimeDeltaSimplify(tgeogpoint '[Point(1 1 1)@2001-01-01,
  Point(2 2 2)@2001-01-02, Point(3 3 3)@2001-01-04, Point(5 5 5)@2001-01-05)', '1 day'));
-- [POINT Z (1 1 1)@2001-01-01, POINT Z (3 3 3)@2001-01-04, POINT Z (5 5 5)@2001-01-05]
</pre></li><li class="listitem"><a name="douglasPeuckerSimplify"></a><a class="indexterm" name="idm5193"></a><a class="indexterm" name="idm5196"></a><p>Simplificar un flotante o un punto temporal usando el <a class="ulink" href="https://es.wikipedia.org/wiki/Algoritmo_de_Ramer%E2%80%93Douglas%E2%80%93Peucker" target="_top">algoritmo de Douglas-Peucker</a> <span class="inlinemediaobject"><img src="../images/cube.svg" width="13"></span>
</p><p><code class="varname">maxDistSimplify({tfloat,tgeompoint},maxdist float,syncdist=true) →</code></p><p><code class="varname">  {tfloat,tgeompoint}</code></p><p><code class="varname">douglasPeuckerSimplify({tfloat,tgeompoint},maxdist float,syncdist=true) →</code></p><p><code class="varname">  {tfloat,tgeompoint}</code></p><p>La diferencia entre las dos funciones es que <code class="varname">maxDistSimplify</code> usa una versión del algoritmo de un solo recorrido, mientras que <code class="varname">douglasPeuckerSimplify</code> usa el algoritmo recursivo estándar.</p><p>La función elimina los valores or los puntos cuya distancia es menor que la distancia pasada como segundo argumento. En el caso de puntos temporales la distancia se especifica en las unidades del sistema de coordenadas. El tercer argumento se aplica solo a puntos temporales y especifica si se utiliza la distancia espacial o la distancia  sincronizada. Observe que la simplificación se aplica sólo a secuencias temporales o conjuntos de secuencias con interpolación lineal. En todos los demás casos, se devuelve una copia del punto temporal dado.</p><pre class="programlisting">
-- Only synchronous distance for temporal floats
SELECT maxDistSimplify(tfloat '[1@2001-01-01, 2@2001-01-02, 1@2001-01-03, 3@2001-01-04,
  1@2001-01-05]', 1, false);
-- [1@2001-01-01, 1@2001-01-03, 3@2001-01-04, 1@2001-01-05]
-- Synchronous distance by default for temporal points
SELECT asText(maxDistSimplify(tgeompoint '[Point(1 1)@2001-01-01, Point(2 2)@2001-01-02,
  Point(3 1)@2001-01-03, Point(3 3)@2001-01-05, Point(5 1)@2001-01-06]', 2));
-- [POINT(1 1)@2001-01-01, POINT(3 3)@2001-01-05, POINT(5 1)@2001-01-06]
-- Spatial distance
SELECT asText(maxDistSimplify(tgeompoint '[Point(1 1)@2001-01-01, Point(2 2)@2001-01-02,
  Point(3 1)@2001-01-03, Point(3 3)@2001-01-05, Point(5 1)@2001-01-06]', 2, false));
-- [POINT(1 1)@2001-01-01, POINT(5 1)@2001-01-06]
</pre><pre class="programlisting">
-- Spatial vs synchronized distance
SELECT asText(douglasPeuckerSimplify(tgeompoint '[Point(1 1)@2001-01-01, Point(6 1)@2001-01-06,
  Point(7 4)@2001-01-07]', 2.3, false));
-- [POINT(1 1)@2001-01-01, POINT(7 4)@2001-01-07]
SELECT asText(douglasPeuckerSimplify(tgeompoint '[Point(1 1)@2001-01-01, Point(6 1)@2001-01-06,
  Point(7 4)@2001-01-07]', 2.3, true));
-- [POINT(1 1)@2001-01-01, POINT(6 1)@2001-01-06, POINT(7 4)@2001-01-07]
</pre></li></ul></div><p>La diferencia entre la distancia espacial y la distancia sincronizada se ilustra en los dos últimos ejemplos anteriores y en la <a class="xref" href="ch09.html#dist_vs_sed" title="Figura 9.1. Diferencia entre la distancia espacial y la distancia sincronizada.">Figura 9.1, “Diferencia entre la distancia espacial y la distancia sincronizada.”</a>. En el primer ejemplo, que usa la distancia espacial, se elimina el segundo instante ya que la distancia perperdicular entre <code class="varname">POINT(2 2)</code> y la línea definida por <code class="varname">POINT(1 1)</code> y <code class="varname">POINT(7 4)</code> es igual a 2.23. Por el contrario, en el segundo ejemplo se mantiene el segundo instante dado que la proyección de <code class="varname">Point(6 2)</code> en la marca de tiempo <code class="varname">2001-01-06</code> sobre el segmento de línea temporal da como resultado <code class="varname">Point(6 3.5)</code> y la distancia entre el punto original y su proyección es 2.5.</p><div class="figure"><a name="dist_vs_sed"></a><p class="title"><b>Figura 9.1. Diferencia entre la distancia espacial y la distancia sincronizada.</b></p><div class="figure-contents"><div class="mediaobject"><img src="../images/dist_vs_sed.svg" alt="Diferencia entre la distancia espacial y la distancia sincronizada."></div></div></div><br class="figure-break"><p>Un uso típico de la función <code class="varname">douglasPeuckerSimplify</code> es reducir el tamaño de un conjunto de datos, en particular con fines de visualización. Si la visualización es estática, se debe preferir la distancia espacial; si la visualización es dinámica o animada, se debe preferir la distancia sincronizada.</p></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch08s07.html">Anterior</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="ch09s02.html">Siguiente</a></td></tr><tr><td width="40%" align="left" valign="top">Relaciones espaciales </td><td width="20%" align="center"><a accesskey="h" href="index.html">Inicio</a></td><td width="40%" align="right" valign="top"> Reducción</td></tr></table></div></body></html>
