COPY tbl_intspan TO '/tmp/tbl_intspan' (FORMAT BINARY);
COPY 100
COPY tbl_floatspan TO '/tmp/tbl_floatspan' (FORMAT BINARY);
COPY 100
COPY tbl_period TO '/tmp/tbl_period' (FORMAT BINARY);
COPY 100
DROP TABLE IF EXISTS tbl_intspan_tmp;
NOTICE:  table "tbl_intspan_tmp" does not exist, skipping
DROP TABLE
DROP TABLE IF EXISTS tbl_floatspan_tmp;
NOTICE:  table "tbl_floatspan_tmp" does not exist, skipping
DROP TABLE
DROP TABLE IF EXISTS tbl_period_tmp;
NOTICE:  table "tbl_period_tmp" does not exist, skipping
DROP TABLE
CREATE TABLE tbl_intspan_tmp AS TABLE tbl_intspan WITH NO DATA;
CREATE TABLE AS
CREATE TABLE tbl_floatspan_tmp AS TABLE tbl_floatspan WITH NO DATA;
CREATE TABLE AS
CREATE TABLE tbl_period_tmp AS TABLE tbl_period WITH NO DATA;
CREATE TABLE AS
COPY tbl_intspan_tmp FROM '/tmp/tbl_intspan' (FORMAT BINARY);
COPY 100
COPY tbl_floatspan_tmp FROM '/tmp/tbl_floatspan' (FORMAT BINARY);
COPY 100
COPY tbl_period_tmp FROM '/tmp/tbl_period' (FORMAT BINARY);
COPY 100
SELECT COUNT(*) FROM tbl_intspan t1, tbl_intspan_tmp t2 WHERE t1.k = t2.k AND t1.i <> t2.i;
 count 
-------
     0
(1 row)

SELECT COUNT(*) FROM tbl_floatspan t1, tbl_floatspan_tmp t2 WHERE t1.k = t2.k AND t1.f <> t2.f;
 count 
-------
     0
(1 row)

SELECT COUNT(*) FROM tbl_period t1, tbl_period_tmp t2 WHERE t1.k = t2.k AND t1.p <> t2.p;
 count 
-------
     0
(1 row)

DROP TABLE tbl_intspan_tmp;
DROP TABLE
DROP TABLE tbl_floatspan_tmp;
DROP TABLE
DROP TABLE tbl_period_tmp;
DROP TABLE
SELECT COUNT(*) FROM tbl_intspan WHERE intspanFromBinary(asBinary(i)) <> i;
 count 
-------
     0
(1 row)

SELECT COUNT(*) FROM tbl_floatspan WHERE floatspanFromBinary(asBinary(f)) <> f;
 count 
-------
     0
(1 row)

SELECT COUNT(*) FROM tbl_period WHERE periodFromBinary(asBinary(p)) <> p;
 count 
-------
     0
(1 row)

SELECT COUNT(*) FROM tbl_intspan WHERE intspanFromHexWKB(asHexWKB(i)) <> i;
 count 
-------
     0
(1 row)

SELECT COUNT(*) FROM tbl_floatspan WHERE floatspanFromHexWKB(asHexWKB(f)) <> f;
 count 
-------
     0
(1 row)

SELECT COUNT(*) FROM tbl_period WHERE periodFromHexWKB(asHexWKB(p)) <> p;
 count 
-------
     0
(1 row)

SELECT SUM(width(i)) FROM tbl_intspan;
 sum 
-----
 513
(1 row)

SELECT round(SUM(width(f))::numeric, 6) FROM tbl_floatspan;
   round    
------------
 524.526653
(1 row)

SELECT i::int4range FROM tbl_intspan LIMIT 10;
    i    
---------
 [11,15)
 [2,11)
 [1,5)
 [69,73)
 [3,5)
 [40,49)
 [44,50)
 [24,33)
 [85,91)
 [73,75)
(10 rows)

SELECT p::tstzrange FROM tbl_period LIMIT 10;
                          p                          
-----------------------------------------------------
 ("2001-04-26 07:11:00+00","2001-04-26 07:18:00+00"]
 ("2001-03-14 19:43:00+00","2001-03-14 19:51:00+00"]
 ["2001-06-10 20:47:00+00","2001-06-10 20:55:00+00")
 ("2001-05-24 14:46:00+00","2001-05-24 14:49:00+00"]
 ["2001-07-11 22:02:00+00","2001-07-11 22:06:00+00")
 ("2001-04-27 19:39:00+00","2001-04-27 19:41:00+00")
 ["2001-03-25 14:48:00+00","2001-03-25 14:49:00+00")
 ["2001-02-15 07:56:00+00","2001-02-15 07:58:00+00")
 ("2001-01-10 13:55:00+00","2001-01-10 13:59:00+00")
 ("2001-09-26 08:57:00+00","2001-09-26 09:06:00+00"]
(10 rows)

SELECT COUNT(*) FROM tbl_intspan t1, tbl_int t2 WHERE t1.i << t2.i;
 count 
-------
  4366
(1 row)

SELECT COUNT(*) FROM tbl_int t1, tbl_intspan t2 WHERE t1.i << t2.i;
 count 
-------
  4928
(1 row)

SELECT COUNT(*) FROM tbl_intspan t1, tbl_int t2 WHERE t1.i >> t2.i;
 count 
-------
  4928
(1 row)

SELECT COUNT(*) FROM tbl_int t1, tbl_intspan t2 WHERE t1.i >> t2.i;
 count 
-------
  4366
(1 row)

SELECT COUNT(*) FROM tbl_intspan t1, tbl_int t2 WHERE t1.i &< t2.i;
 count 
-------
  4366
(1 row)

SELECT COUNT(*) FROM tbl_int t1, tbl_intspan t2 WHERE t1.i &< t2.i;
 count 
-------
  5435
(1 row)

SELECT COUNT(*) FROM tbl_intspan t1, tbl_int t2 WHERE t1.i &> t2.i;
 count 
-------
  5048
(1 row)

SELECT COUNT(*) FROM tbl_int t1, tbl_intspan t2 WHERE t1.i &> t2.i;
 count 
-------
  4873
(1 row)

SELECT COUNT(*) FROM tbl_intspan t1, tbl_int t2 WHERE t1.i -|- t2.i;
 count 
-------
    91
(1 row)

SELECT COUNT(*) FROM tbl_int t1, tbl_intspan t2 WHERE t1.i -|- t2.i;
 count 
-------
    91
(1 row)

SELECT COUNT(*) FROM tbl_floatspan t1, tbl_float t2 WHERE t1.f << t2.f;
 count 
-------
  4089
(1 row)

SELECT COUNT(*) FROM tbl_float t1, tbl_floatspan t2 WHERE t1.f << t2.f;
 count 
-------
  5205
(1 row)

SELECT COUNT(*) FROM tbl_floatspan t1, tbl_float t2 WHERE t1.f >> t2.f;
 count 
-------
  5205
(1 row)

SELECT COUNT(*) FROM tbl_float t1, tbl_floatspan t2 WHERE t1.f >> t2.f;
 count 
-------
  4089
(1 row)

SELECT COUNT(*) FROM tbl_floatspan t1, tbl_float t2 WHERE t1.f &< t2.f;
 count 
-------
  4089
(1 row)

SELECT COUNT(*) FROM tbl_float t1, tbl_floatspan t2 WHERE t1.f &< t2.f;
 count 
-------
  5712
(1 row)

SELECT COUNT(*) FROM tbl_floatspan t1, tbl_float t2 WHERE t1.f &> t2.f;
 count 
-------
  5205
(1 row)

SELECT COUNT(*) FROM tbl_float t1, tbl_floatspan t2 WHERE t1.f &> t2.f;
 count 
-------
  4596
(1 row)

SELECT COUNT(*) FROM tbl_floatspan t1, tbl_float t2 WHERE t1.f -|- t2.f;
 count 
-------
     0
(1 row)

SELECT COUNT(*) FROM tbl_float t1, tbl_floatspan t2 WHERE t1.f -|- t2.f;
 count 
-------
     0
(1 row)

set parallel_setup_cost=0;
SET
set parallel_tuple_cost=0;
SET
set min_parallel_table_scan_size=0;
SET
set max_parallel_workers_per_gather=2;
SET
SELECT round(extent(temp::floatspan),6) FROM tbl_tfloat_big;
         round          
------------------------
 [1.004155, 100.999349]
(1 row)

reset parallel_setup_cost;
RESET
reset parallel_tuple_cost;
RESET
reset min_parallel_table_scan_size;
RESET
reset max_parallel_workers_per_gather;
RESET
