/*****************************************************************************
 * Temporal text concatenation
 *****************************************************************************/
SELECT text 'A' || ttext 'AA@2000-01-01';
           ?column?           
------------------------------
 "AAA"@2000-01-01 00:00:00+00
(1 row)

SELECT text 'A' || ttext '{AA@2000-01-01, BB@2000-01-02, AA@2000-01-03}';
                                          ?column?                                          
--------------------------------------------------------------------------------------------
 {"AAA"@2000-01-01 00:00:00+00, "ABB"@2000-01-02 00:00:00+00, "AAA"@2000-01-03 00:00:00+00}
(1 row)

SELECT text 'A' || ttext '[AA@2000-01-01, BB@2000-01-02, AA@2000-01-03]';
                                          ?column?                                          
--------------------------------------------------------------------------------------------
 ["AAA"@2000-01-01 00:00:00+00, "ABB"@2000-01-02 00:00:00+00, "AAA"@2000-01-03 00:00:00+00]
(1 row)

SELECT text 'A' || ttext '{[AA@2000-01-01, BB@2000-01-02, AA@2000-01-03],[CC@2000-01-04, CC@2000-01-05]}';
                                                                          ?column?                                                                          
------------------------------------------------------------------------------------------------------------------------------------------------------------
 {["AAA"@2000-01-01 00:00:00+00, "ABB"@2000-01-02 00:00:00+00, "AAA"@2000-01-03 00:00:00+00], ["ACC"@2000-01-04 00:00:00+00, "ACC"@2000-01-05 00:00:00+00]}
(1 row)

SELECT ttext 'AA@2000-01-01' || text 'A';
           ?column?           
------------------------------
 "AAA"@2000-01-01 00:00:00+00
(1 row)

SELECT ttext '{AA@2000-01-01, BB@2000-01-02, AA@2000-01-03}' || text 'A';
                                          ?column?                                          
--------------------------------------------------------------------------------------------
 {"AAA"@2000-01-01 00:00:00+00, "BBA"@2000-01-02 00:00:00+00, "AAA"@2000-01-03 00:00:00+00}
(1 row)

SELECT ttext '[AA@2000-01-01, BB@2000-01-02, AA@2000-01-03]' || text 'A';
                                          ?column?                                          
--------------------------------------------------------------------------------------------
 ["AAA"@2000-01-01 00:00:00+00, "BBA"@2000-01-02 00:00:00+00, "AAA"@2000-01-03 00:00:00+00]
(1 row)

SELECT ttext '{[AA@2000-01-01, BB@2000-01-02, AA@2000-01-03],[CC@2000-01-04, CC@2000-01-05]}' || text 'A';
                                                                          ?column?                                                                          
------------------------------------------------------------------------------------------------------------------------------------------------------------
 {["AAA"@2000-01-01 00:00:00+00, "BBA"@2000-01-02 00:00:00+00, "AAA"@2000-01-03 00:00:00+00], ["CCA"@2000-01-04 00:00:00+00, "CCA"@2000-01-05 00:00:00+00]}
(1 row)

SELECT ttext 'AA@2000-01-01' || ttext 'AA@2000-01-01';
           ?column?            
-------------------------------
 "AAAA"@2000-01-01 00:00:00+00
(1 row)

SELECT ttext '{AA@2000-01-01, BB@2000-01-02, AA@2000-01-03}' || ttext 'AA@2000-01-01';
           ?column?            
-------------------------------
 "AAAA"@2000-01-01 00:00:00+00
(1 row)

SELECT ttext '[AA@2000-01-01, BB@2000-01-02, AA@2000-01-03]' || ttext 'AA@2000-01-01';
           ?column?            
-------------------------------
 "AAAA"@2000-01-01 00:00:00+00
(1 row)

SELECT ttext '{[AA@2000-01-01, BB@2000-01-02, AA@2000-01-03],[CC@2000-01-04, CC@2000-01-05]}' || ttext 'AA@2000-01-01';
           ?column?            
-------------------------------
 "AAAA"@2000-01-01 00:00:00+00
(1 row)

SELECT ttext 'AA@2000-01-01' || ttext '{AA@2000-01-01, BB@2000-01-02, AA@2000-01-03}';
           ?column?            
-------------------------------
 "AAAA"@2000-01-01 00:00:00+00
(1 row)

SELECT ttext '{AA@2000-01-01, BB@2000-01-02, AA@2000-01-03}' || ttext '{AA@2000-01-01, BB@2000-01-02, AA@2000-01-03}';
                                           ?column?                                            
-----------------------------------------------------------------------------------------------
 {"AAAA"@2000-01-01 00:00:00+00, "BBBB"@2000-01-02 00:00:00+00, "AAAA"@2000-01-03 00:00:00+00}
(1 row)

SELECT ttext '[AA@2000-01-01, BB@2000-01-02, AA@2000-01-03]' || ttext '{AA@2000-01-01, BB@2000-01-02, AA@2000-01-03}';
                                           ?column?                                            
-----------------------------------------------------------------------------------------------
 {"AAAA"@2000-01-01 00:00:00+00, "BBBB"@2000-01-02 00:00:00+00, "AAAA"@2000-01-03 00:00:00+00}
(1 row)

SELECT ttext '{[AA@2000-01-01, BB@2000-01-02, AA@2000-01-03],[CC@2000-01-04, CC@2000-01-05]}' || ttext '{AA@2000-01-01, BB@2000-01-02, AA@2000-01-03}';
                                           ?column?                                            
-----------------------------------------------------------------------------------------------
 {"AAAA"@2000-01-01 00:00:00+00, "BBBB"@2000-01-02 00:00:00+00, "AAAA"@2000-01-03 00:00:00+00}
(1 row)

SELECT ttext 'AA@2000-01-01' || ttext '[AA@2000-01-01, BB@2000-01-02, AA@2000-01-03]';
           ?column?            
-------------------------------
 "AAAA"@2000-01-01 00:00:00+00
(1 row)

SELECT ttext '{AA@2000-01-01, BB@2000-01-02, AA@2000-01-03}' || ttext '[AA@2000-01-01, BB@2000-01-02, AA@2000-01-03]';
                                           ?column?                                            
-----------------------------------------------------------------------------------------------
 {"AAAA"@2000-01-01 00:00:00+00, "BBBB"@2000-01-02 00:00:00+00, "AAAA"@2000-01-03 00:00:00+00}
(1 row)

SELECT ttext '[AA@2000-01-01, BB@2000-01-02, AA@2000-01-03]' || ttext '[AA@2000-01-01, BB@2000-01-02, AA@2000-01-03]';
                                           ?column?                                            
-----------------------------------------------------------------------------------------------
 ["AAAA"@2000-01-01 00:00:00+00, "BBBB"@2000-01-02 00:00:00+00, "AAAA"@2000-01-03 00:00:00+00]
(1 row)

SELECT ttext '{[AA@2000-01-01, BB@2000-01-02, AA@2000-01-03],[CC@2000-01-04, CC@2000-01-05]}' || ttext '[AA@2000-01-01, BB@2000-01-02, AA@2000-01-03]';
                                            ?column?                                             
-------------------------------------------------------------------------------------------------
 {["AAAA"@2000-01-01 00:00:00+00, "BBBB"@2000-01-02 00:00:00+00, "AAAA"@2000-01-03 00:00:00+00]}
(1 row)

SELECT ttext 'AA@2000-01-01' || ttext '{[AA@2000-01-01, BB@2000-01-02, AA@2000-01-03],[CC@2000-01-04, CC@2000-01-05]}';
           ?column?            
-------------------------------
 "AAAA"@2000-01-01 00:00:00+00
(1 row)

SELECT ttext '{AA@2000-01-01, BB@2000-01-02, AA@2000-01-03}' || ttext '{[AA@2000-01-01, BB@2000-01-02, AA@2000-01-03],[CC@2000-01-04, CC@2000-01-05]}';
                                           ?column?                                            
-----------------------------------------------------------------------------------------------
 {"AAAA"@2000-01-01 00:00:00+00, "BBBB"@2000-01-02 00:00:00+00, "AAAA"@2000-01-03 00:00:00+00}
(1 row)

SELECT ttext '[AA@2000-01-01, BB@2000-01-02, AA@2000-01-03]' || ttext '{[AA@2000-01-01, BB@2000-01-02, AA@2000-01-03],[CC@2000-01-04, CC@2000-01-05]}';
                                            ?column?                                             
-------------------------------------------------------------------------------------------------
 {["AAAA"@2000-01-01 00:00:00+00, "BBBB"@2000-01-02 00:00:00+00, "AAAA"@2000-01-03 00:00:00+00]}
(1 row)

SELECT ttext '{[AA@2000-01-01, BB@2000-01-02, AA@2000-01-03],[CC@2000-01-04, CC@2000-01-05]}' || ttext '{[AA@2000-01-01, BB@2000-01-02, AA@2000-01-03],[CC@2000-01-04, CC@2000-01-05]}';
                                                                            ?column?                                                                             
-----------------------------------------------------------------------------------------------------------------------------------------------------------------
 {["AAAA"@2000-01-01 00:00:00+00, "BBBB"@2000-01-02 00:00:00+00, "AAAA"@2000-01-03 00:00:00+00], ["CCCC"@2000-01-04 00:00:00+00, "CCCC"@2000-01-05 00:00:00+00]}
(1 row)

/*****************************************************************************/
SELECT upper(ttext 'AA@2000-01-01');
            upper            
-----------------------------
 "AA"@2000-01-01 00:00:00+00
(1 row)

SELECT upper(ttext '{AA@2000-01-01, BB@2000-01-02, AA@2000-01-03}');
                                          upper                                          
-----------------------------------------------------------------------------------------
 {"AA"@2000-01-01 00:00:00+00, "BB"@2000-01-02 00:00:00+00, "AA"@2000-01-03 00:00:00+00}
(1 row)

SELECT upper(ttext '[AA@2000-01-01, BB@2000-01-02, AA@2000-01-03]');
                                          upper                                          
-----------------------------------------------------------------------------------------
 ["AA"@2000-01-01 00:00:00+00, "BB"@2000-01-02 00:00:00+00, "AA"@2000-01-03 00:00:00+00]
(1 row)

SELECT upper(ttext '{[AA@2000-01-01, BB@2000-01-02, AA@2000-01-03],[CC@2000-01-04, CC@2000-01-05]}');
                                                                         upper                                                                         
-------------------------------------------------------------------------------------------------------------------------------------------------------
 {["AA"@2000-01-01 00:00:00+00, "BB"@2000-01-02 00:00:00+00, "AA"@2000-01-03 00:00:00+00], ["CC"@2000-01-04 00:00:00+00, "CC"@2000-01-05 00:00:00+00]}
(1 row)

SELECT lower(ttext 'AA@2000-01-01');
            lower            
-----------------------------
 "aa"@2000-01-01 00:00:00+00
(1 row)

SELECT lower(ttext '{AA@2000-01-01, BB@2000-01-02, AA@2000-01-03}');
                                          lower                                          
-----------------------------------------------------------------------------------------
 {"aa"@2000-01-01 00:00:00+00, "bb"@2000-01-02 00:00:00+00, "aa"@2000-01-03 00:00:00+00}
(1 row)

SELECT lower(ttext '[AA@2000-01-01, BB@2000-01-02, AA@2000-01-03]');
                                          lower                                          
-----------------------------------------------------------------------------------------
 ["aa"@2000-01-01 00:00:00+00, "bb"@2000-01-02 00:00:00+00, "aa"@2000-01-03 00:00:00+00]
(1 row)

SELECT lower(ttext '{[AA@2000-01-01, BB@2000-01-02, AA@2000-01-03],[CC@2000-01-04, CC@2000-01-05]}');
                                                                         lower                                                                         
-------------------------------------------------------------------------------------------------------------------------------------------------------
 {["aa"@2000-01-01 00:00:00+00, "bb"@2000-01-02 00:00:00+00, "aa"@2000-01-03 00:00:00+00], ["cc"@2000-01-04 00:00:00+00, "cc"@2000-01-05 00:00:00+00]}
(1 row)

/*****************************************************************************/
